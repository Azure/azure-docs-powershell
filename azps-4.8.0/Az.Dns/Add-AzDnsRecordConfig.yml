### YamlMime:PowershellCmdlet
summary: |-
  Adds a DNS record to a local record set object.
module: Az.Dns
notes: ""
inputs:
- name: <xref href="Microsoft.Azure.Commands.Dns.DnsRecordSet" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.UInt16" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.Byte" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.Dns.DnsRecordSet" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzDnsRecordSet
  href: ./Get-AzDnsRecordSet.yml
- text: Remove-AzDnsRecordConfig
  href: ./Remove-AzDnsRecordConfig.yml
- text: Set-AzDnsRecordSet
  href: ./Set-AzDnsRecordSet.yml
syntaxes:
- >-
  Add-AzDnsRecordConfig -RecordSet <DnsRecordSet> -Ipv4Address <String>

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Add-AzDnsRecordConfig -RecordSet <DnsRecordSet> -Ipv6Address <String>

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Add-AzDnsRecordConfig -RecordSet <DnsRecordSet> -Nsdname <String> [-DefaultProfile <IAzureContextContainer>]

   [<CommonParameters>]
- >-
  Add-AzDnsRecordConfig -RecordSet <DnsRecordSet> -Exchange <String> -Preference <UInt16>

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Add-AzDnsRecordConfig -RecordSet <DnsRecordSet> -Ptrdname <String> [-DefaultProfile <IAzureContextContainer>]

   [<CommonParameters>]
- >-
  Add-AzDnsRecordConfig -RecordSet <DnsRecordSet> -Value <String> [-DefaultProfile <IAzureContextContainer>]

   [<CommonParameters>]
- >-
  Add-AzDnsRecordConfig -RecordSet <DnsRecordSet> -Priority <UInt16> -Target <String> -Port <UInt16>

   -Weight <UInt16> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Add-AzDnsRecordConfig -RecordSet <DnsRecordSet> -Cname <String> [-DefaultProfile <IAzureContextContainer>]

   [<CommonParameters>]
- >-
  Add-AzDnsRecordConfig -RecordSet <DnsRecordSet> -CaaFlags <Byte> -CaaTag <String> -CaaValue <String>

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Add an A record to a record set'
  code: |-
    PS C:\> $RecordSet = Get-AzDnsRecordSet -Name www -RecordType A -ResouceGroupName MyResourceGroup -ZoneName myzone.com
    PS C:\> Add-AzDnsRecordConfig -RecordSet $RecordSet -Ipv4Address 1.2.3.4
    PS C:\> Set-AzDnsRecordSet -RecordSet $RecordSet

    # You can also pipe the above sequence:

    PS C:\> Get-AzDnsRecordSet -Name www -RecordType A -ResouceGroupName MyResourceGroup -ZoneName myzone.com | Add-AzDnsRecordConfig -Ipv4Address 1.2.3.4 | Set-AzDnsRecordSet
  description: |-
    This example adds an A record to an existing record set.
  summary: ""
- title: 'Example 2: Add an AAAA record to a record set'
  code: |-
    PS C:\> $RecordSet = Get-AzDnsRecordSet -Name www -RecordType AAAA -ResouceGroupName MyResourceGroup -ZoneName myzone.com
    PS C:\> Add-AzDnsRecordConfig -RecordSet $RecordSet -Ipv6Address 2001:DB80:4009:1803::1005
    PS C:\> Set-AzDnsRecordSet -RecordSet $RecordSet

    # You can also pipe the above sequence:

    PS C:\> Get-AzDnsRecordSet -Name www -RecordType AAAA -ResouceGroupName MyResourceGroup -ZoneName myzone.com | Add-AzDnsRecordConfig -Ipv6Address 2001:DB80:4009:1803::1005 | Set-AzDnsRecordSet
  description: |-
    This example adds an AAAA record to an existing record set.
  summary: ""
- title: 'Example 3: Add a CNAME record to a record set'
  code: |-
    PS C:\>$RecordSet = Get-AzDnsRecordSet -Name www -RecordType CNAME -ResouceGroupName MyResourceGroup -ZoneName myzone.com
    PS C:\> Add-AzDnsRecordConfig -RecordSet $RecordSet -Cname contoso.com
    PS C:\> Set-AzDnsRecordSet -RecordSet $RecordSet

    # You can also pipe the above sequence:

    PS C:\> Get-AzDnsRecordSet -Name www -RecordType CNAME -ResouceGroupName MyResourceGroup -ZoneName myzone.com | Add-AzDnsRecordConfig -Cname contoso.com | Set-AzDnsRecordSet
  description: |-
    This example adds a CNAME record to an existing record set.
    Because a CNAME record set can contain at most one record, it must initially be an empty record set, or existing records must be removed using Remove-AzDnsRecordConfig.
  summary: ""
- title: 'Example 4: Add an MX record to a record set'
  code: |-
    PS C:\> $RecordSet = Get-AzDnsRecordSet -Name "@" -RecordType MX -ResouceGroupName MyResourceGroup -ZoneName myzone.com
    PS C:\> Add-AzDnsRecordConfig -Exchange mail.microsoft.com -Preference 5 -RecordSet $RecordSet
    PS C:\> Set-AzDnsRecordSet -RecordSet $RecordSet

    # You can also pipe the above sequence:

    PS C:\> Get-AzDnsRecordSet -Name "@" -RecordType MX -ResouceGroupName MyResourceGroup -ZoneName myzone.com | Add-AzDnsRecordConfig -Exchange mail.microsoft.com -Preference 5 | Set-AzDnsRecordSet
  description: |-
    This example adds an MX record to an existing record set.
    The record name "@" indicates a record set at the zone apex.
  summary: ""
- title: 'Example 5: Add an NS record to a record set'
  code: |-
    PS C:\>$RecordSet = Get-AzDnsRecordSet -Name abc -RecordType NS -ResouceGroupName MyResourceGroup -ZoneName myzone.com
    PS C:\> Add-AzDnsRecordConfig -Nsdname ns1.myzone.com -RecordSet $RecordSet
    PS C:\> Set-AzDnsRecordSet -RecordSet $RecordSet

    # You can also pipe the above sequence:

    PS C:\> Get-AzDnsRecordSet -Name abc -RecordType NS -ResouceGroupName MyResourceGroup -ZoneName myzone.com | Add-AzDnsRecordConfig -Nsdname ns1.myzone.com | Set-AzDnsRecordSet
  description: |-
    This example adds an NS record to an existing record set.
  summary: ""
- title: 'Example 6: Add a PTR record to a record set'
  code: |-
    PS C:\>$RecordSet = Get-AzDnsRecordSet -Name 4 -RecordType PTR -ResouceGroupName MyResourceGroup -ZoneName 3.2.1.in-addr.arpa
    PS C:\> Add-AzDnsRecordConfig -Ptrdname www.contoso.com -RecordSet $RecordSet
    PS C:\> Set-AzDnsRecordSet -RecordSet $RecordSet

    # The above sequence can also be piped:

    PS C:\> Get-AzDnsRecordSet -Name 4 -RecordType PTR -ResouceGroupName MyResourceGroup -ZoneName 3.2.1.in-addr.arpa | Add-AzDnsRecordConfig -Ptrdname www.contoso.com | Set-AzDnsRecordSet
  description: |-
    This example adds a PTR record to an existing record set.
  summary: ""
- title: 'Example 7: Add an SRV record to a record set'
  code: |-
    PS C:\>$RecordSet = Get-AzDnsRecordSet -Name _sip._tcp -RecordType SRV -ResouceGroupName MyResourceGroup -ZoneName myzone.com
    PS C:\> Add-AzDnsRecordConfig -RecordSet $RecordSet -Priority 0 -Weight 5 -Port 8080 -Target target.example.com
    PS C:\> Set-AzDnsRecordSet -RecordSet $RecordSet

    # The above sequence can also be piped:

    PS C:\> Get-AzDnsRecordSet -Name _sip._tcp -RecordType SRV -ResouceGroupName MyResourceGroup -ZoneName myzone.com | Add-AzDnsRecordConfig -Priority 0 -Weight 5 -Port 8080 -Target target.example.com  | Set-AzDnsRecordSet
  description: |-
    This example adds an SRV record to an existing record set.
  summary: ""
- title: 'Example 8: Add a TXT record to a record set'
  code: |-
    PS C:\>$RecordSet = Get-AzDnsRecordSet -Name text -RecordType TXT -ResouceGroupName MyResourceGroup -ZoneName myzone.com
    PS C:\> Add-AzDnsRecordConfig -RecordSet $RecordSet -Value "This is a TXT Record"
    PS C:\> Set-AzDnsRecordSet -RecordSet $RecordSet

    # The above sequence can also be piped:

    PS C:\> Get-AzDnsRecordSet -Name text -RecordType TXT -ResouceGroupName MyResourceGroup -ZoneName myzone.com | Add-AzDnsRecordConfig -Value "This is a TXT Record" | Set-AzDnsRecordSet
  description: |-
    This example adds a TXT record to an existing record set.
  summary: ""
parameters:
- type: <xref href="System.Byte" data-throw-if-not-resolved="False" />
  name: CaaFlags
  isRequired: true
  description: |+
    The flags for the CAA record to add. Must be a number between 0 and 255.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: CaaTag
  isRequired: true
  description: |+
    The tag field of the CAA record to add.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: CaaValue
  isRequired: true
  description: |+
    The value field for the CAA record to add.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Cname
  isRequired: true
  description: |+
    Specifies the domain name for a canonical name (CNAME) record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Exchange
  isRequired: true
  description: |+
    Specifies the mail exchange server name for a mail exchange (MX) record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Ipv4Address
  isRequired: true
  description: |+
    Specifies an IPv4 address for an A record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Ipv6Address
  isRequired: true
  description: |+
    Specifies an IPv6 address for an AAAA record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Nsdname
  isRequired: true
  description: |+
    Specifies the name server name for a name server (NS) record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.UInt16" data-throw-if-not-resolved="False" />
  name: Port
  isRequired: true
  description: |+
    Specifies the port for a service (SRV) record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.UInt16" data-throw-if-not-resolved="False" />
  name: Preference
  isRequired: true
  description: |+
    Specifies the preference for an MX record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.UInt16" data-throw-if-not-resolved="False" />
  name: Priority
  isRequired: true
  description: |+
    Specifies the priority for an SRV record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Ptrdname
  isRequired: true
  description: |+
    Specifies the target domain name of a pointer resource (PTR) record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Dns.DnsRecordSet" data-throw-if-not-resolved="False" />
  name: RecordSet
  isRequired: true
  description: |+
    Specifies the **RecordSet** object to edit.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Target
  isRequired: true
  description: |+
    Specifies the target for an SRV record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Value
  isRequired: true
  description: |+
    Specifies the value for a TXT record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.UInt16" data-throw-if-not-resolved="False" />
  name: Weight
  isRequired: true
  description: |+
    Specifies the weight for an SRV record.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: Az.Dns.Add-AzDnsRecordConfig
name: Add-AzDnsRecordConfig
description: |-
  The **Add-AzDnsRecordConfig** cmdlet adds a Domain Name System (DNS) record to a **RecordSet** object.
  The **RecordSet** object is an offline object, and changes to it do not change the DNS responses until after you run the Set-AzDnsRecordSet cmdlet to persist the change to the Microsoft Azure DNS service.
  SOA records are created when a DNS zone is created, and are removed when the DNS zone is deleted.
  You cannot add or remove SOA records, but you can edit them.
  You can pass the **RecordSet** object to this cmdlet as a parameter or by using the pipeline operator.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Dns.dll-Help.xml
  Module Name: Az.Dns
  ms.assetid: CD119EBE-E1A4-4E9D-B3BA-FDAF89BF0DDB
  online version: https://docs.microsoft.com/en-us/powershell/module/az.dns/add-azdnsrecordconfig
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Dns/Dns/help/Add-AzDnsRecordConfig.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Dns/Dns/help/Add-AzDnsRecordConfig.md
