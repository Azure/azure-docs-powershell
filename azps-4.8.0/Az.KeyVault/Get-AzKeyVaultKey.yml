### YamlMime:PowershellCmdlet
summary: |-
  Gets Key Vault keys.
module: Az.KeyVault
notes: ""
inputs:
- name: <xref href="Microsoft.Azure.Commands.KeyVault.Models.PSKeyVault" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.KeyVault.Models.PSKeyVaultKeyIdentityItem" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.KeyVault.Models.PSKeyVaultKey" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.KeyVault.Models.PSDeletedKeyVaultKeyIdentityItem" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.KeyVault.Models.PSDeletedKeyVaultKey" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Add-AzKeyVaultKey
  href: ./Add-AzKeyVaultKey.yml
- text: Remove-AzKeyVaultKey
  href: ./Remove-AzKeyVaultKey.yml
- text: Undo-AzKeyVaultKeyRemoval
  href: ./Undo-AzKeyVaultKeyRemoval.yml
syntaxes:
- >-
  Get-AzKeyVaultKey [-VaultName] <String> [[-Name] <String>] [-InRemovedState] [-OutFile <String>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzKeyVaultKey [-VaultName] <String> [-Name] <String> [-Version] <String> [-OutFile <String>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzKeyVaultKey [-VaultName] <String> [-Name] <String> [-IncludeVersions] [-OutFile <String>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzKeyVaultKey [-InputObject] <PSKeyVault> [[-Name] <String>] [-InRemovedState] [-OutFile <String>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzKeyVaultKey [-InputObject] <PSKeyVault> [-Name] <String> [-Version] <String> [-OutFile <String>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzKeyVaultKey [-InputObject] <PSKeyVault> [-Name] <String> [-IncludeVersions] [-OutFile <String>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzKeyVaultKey [-ResourceId] <String> [[-Name] <String>] [-InRemovedState] [-OutFile <String>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzKeyVaultKey [-ResourceId] <String> [-Name] <String> [-Version] <String> [-OutFile <String>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzKeyVaultKey [-ResourceId] <String> [-Name] <String> [-IncludeVersions] [-OutFile <String>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Get all the keys in a key vault'
  code: |-
    PS C:\> Get-AzKeyVaultKey -VaultName 'contoso'

    Vault Name     : contoso
    Name           : test1
    Version        :
    Id             : https://contoso.vault.azure.net:443/keys/test1
    Enabled        : True
    Expires        : 11/24/2018 6:08:13 PM
    Not Before     : 5/24/2018 5:58:13 PM
    Created        : 5/24/2018 6:08:13 PM
    Updated        : 5/24/2018 6:08:13 PM
    Purge Disabled : False
    Tags           :

    Vault Name     : contoso
    Name           : test2
    Version        :
    Id             : https://contoso.vault.azure.net:443/keys/test2
    Enabled        : True
    Expires        : 11/24/2018 6:09:44 PM
    Not Before     : 5/24/2018 5:59:44 PM
    Created        : 5/24/2018 6:09:44 PM
    Updated        : 5/24/2018 6:09:44 PM
    Purge Disabled : False
    Tags           :
  description: |-
    This command gets all the keys in the key vault named Contoso.
  summary: ""
- title: 'Example 2: Get the current version of a key'
  code: |-
    PS C:\> Get-AzKeyVaultKey -VaultName 'contoso' -KeyName 'test1'

    Vault Name     : contoso
    Name           : test1
    Version        : 7fe415d5518240c1a6fce89986b8d334
    Id             : https://contoso.vault.azure.net:443/keys/test1/7fe415d5518240c1a6fce89986b8d334
    Enabled        : True
    Expires        : 11/24/2018 6:08:13 PM
    Not Before     : 5/24/2018 5:58:13 PM
    Created        : 5/24/2018 6:08:13 PM
    Updated        : 5/24/2018 6:08:13 PM
    Purge Disabled : False
    Tags           :
  description: |-
    This command gets the current version of the key named test1 in the key vault named Contoso.
  summary: ""
- title: 'Example 3: Get all versions of a key'
  code: |-
    PS C:\> Get-AzKeyVaultKey -VaultName 'contoso' -KeyName 'test1' -IncludeVersions

    Vault Name     : contoso
    Name           : test1
    Version        : 7fe415d5518240c1a6fce89986b8d334
    Id             : https://contoso.vault.azure.net:443/keys/test1/7fe415d5518240c1a6fce89986b8d334
    Enabled        : True
    Expires        : 11/24/2018 6:08:13 PM
    Not Before     : 5/24/2018 5:58:13 PM
    Created        : 5/24/2018 6:08:13 PM
    Updated        : 5/24/2018 6:08:13 PM
    Purge Disabled : False
    Tags           :

    Vault Name     : contoso
    Name           : test1
    Version        : e4e95940e669407fbdb4298bc21a3e1d
    Id             : https://contoso.vault.azure.net:443/keys/test1/e4e95940e669407fbdb4298bc21a3e1d
    Enabled        : False
    Expires        : 11/24/2018 6:08:08 PM
    Not Before     : 5/24/2018 5:58:08 PM
    Created        : 5/24/2018 6:08:08 PM
    Updated        : 5/24/2018 6:08:08 PM
    Purge Disabled : False
    Tags           :
  description: |-
    This command gets all versions the key named ITPfx in the key vaultnamed Contoso.
  summary: ""
- title: 'Example 4: Get a specific version of a key'
  code: |-
    PS C:\> Get-AzKeyVaultKey -VaultName 'contoso' -KeyName 'test1' -Version 'e4e95940e669407fbdb4298bc21a3e1d'

    Vault Name     : contoso
    Name           : test1
    Version        : e4e95940e669407fbdb4298bc21a3e1d
    Id             : https://contoso.vault.azure.net:443/keys/test1/e4e95940e669407fbdb4298bc21a3e1d
    Enabled        : False
    Expires        : 11/24/2018 6:08:08 PM
    Not Before     : 5/24/2018 5:58:08 PM
    Created        : 5/24/2018 6:08:08 PM
    Updated        : 5/24/2018 6:08:08 PM
    Purge Disabled : False
    Tags           :
  description: |-
    This command gets a specific version of the key named test1 in the key vault named Contoso.
    After running this command, you can inspect various properties of the key by navigating the $Key object.
  summary: ""
- title: 'Example 5: Get all the keys that have been deleted but not purged for this key vault.'
  code: |-
    PS C:\> Get-AzKeyVaultKey -VaultName 'contoso' -InRemovedState

    Vault Name           : contoso
    Name                 : test3
    Id                   : https://contoso.vault.azure.net:443/keys/test3
    Deleted Date         : 5/24/2018 8:32:42 PM
    Scheduled Purge Date : 8/22/2018 8:32:42 PM
    Enabled              : True
    Expires              :
    Not Before           :
    Created              : 5/24/2018 8:32:27 PM
    Updated              : 5/24/2018 8:32:27 PM
    Purge Disabled       : False
    Tags                 :
  description: |-
    This command gets all the keys that have been previously deleted, but not purged, in the key vault named Contoso.
  summary: ""
- title: 'Example 6: Gets the key ITPfx that has been deleted but not purged for this key vault.'
  code: |-
    PS C:\> Get-AzKeyVaultKey -VaultName 'contoso' -KeyName 'test3' -InRemovedState

    Vault Name           : contoso
    Name                 : test3
    Id                   : https://contoso.vault.azure.net:443/keys/test3/1af807cc331a49d0b52b7c75e1b2366e
    Deleted Date         : 5/24/2018 8:32:42 PM
    Scheduled Purge Date : 8/22/2018 8:32:42 PM
    Enabled              : True
    Expires              :
    Not Before           :
    Created              : 5/24/2018 8:32:27 PM
    Updated              : 5/24/2018 8:32:27 PM
    Purge Disabled       : False
    Tags                 :
  description: |-
    This command gets the key test3 that has been previously deleted, but not purged, in the key vault named Contoso.
    This command will return metadata such as the deletion date, and the scheduled purging date of this deleted key.
  summary: ""
- title: 'Example 7: Get all the keys in a key vault using filtering'
  code: |-
    PS C:\> Get-AzKeyVaultKey -VaultName 'contoso' -KeyName "test*"

    Vault Name     : contoso
    Name           : test1
    Version        :
    Id             : https://contoso.vault.azure.net:443/keys/test1
    Enabled        : True
    Expires        : 11/24/2018 6:08:13 PM
    Not Before     : 5/24/2018 5:58:13 PM
    Created        : 5/24/2018 6:08:13 PM
    Updated        : 5/24/2018 6:08:13 PM
    Purge Disabled : False
    Tags           :

    Vault Name     : contoso
    Name           : test2
    Version        :
    Id             : https://contoso.vault.azure.net:443/keys/test2
    Enabled        : True
    Expires        : 11/24/2018 6:09:44 PM
    Not Before     : 5/24/2018 5:59:44 PM
    Created        : 5/24/2018 6:09:44 PM
    Updated        : 5/24/2018 6:09:44 PM
    Purge Disabled : False
    Tags           :
  description: |-
    This command gets all the keys in the key vault named Contoso that start with "test".
  summary: ""
- title: 'Example 8: Download a public key as a .pem file'
  code: |-
    PS C:\> $path = "D:\public.pem"
    PS C:\> Get-AzKeyVaultKey -VaultName $vaultName -KeyName $keyName -OutFile $path
  description: |-
    You can download the public key of a RSA key by specifying the `-OutFile` parameter.
    This is one step of importing HSM-protected keys to Azure Key Vault. See https://docs.microsoft.com/en-us/azure/key-vault/keys/hsm-protected-keys
  summary: ""
parameters:
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: IncludeVersions
  isRequired: true
  description: |+
    Indicates that this cmdlet gets all versions of a key.
    The current version of a key is the first one on the list.
    If you specify this parameter you must also specify the *Name* and *VaultName* parameters.
    If you do not specify the *IncludeVersions* parameter, this cmdlet gets the current version of the key with the specified *Name*.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.KeyVault.Models.PSKeyVault" data-throw-if-not-resolved="False" />
  name: InputObject
  isRequired: true
  description: |+
    KeyVault object.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: InRemovedState
  description: |+
    Specifies whether to show the previously deleted keys in the output

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Name
  isRequired: true
  description: |+
    Specifies the name of the key bundle to get.

  defaultValue: None
  position: "1"
  aliases: KeyName
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: OutFile
  description: |+
    Specifies the output file for which this cmdlet saves the key. The public key is saved in PEM format by default.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ResourceId
  isRequired: true
  description: |+
    KeyVault Resource Id.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: VaultName
  isRequired: true
  description: |+
    Specifies the name of the key vault from which this cmdlet gets keys.
    This cmdlet constructs the fully qualified domain name (FQDN) of a key vault based on the name that this parameter specifies and your selected environment.

  defaultValue: None
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Version
  isRequired: true
  description: |+
    Specifies the key version.
    This cmdlet constructs the FQDN of a key based on the key vault name, your currently selected environment, the key name, and the key version.

  defaultValue: None
  position: "2"
  aliases: KeyVersion
  parameterValueGroup: ""
uid: Az.KeyVault.Get-AzKeyVaultKey
name: Get-AzKeyVaultKey
description: |-
  The **Get-AzKeyVaultKey** cmdlet gets Azure Key Vault keys.
  This cmdlet gets a specific **Microsoft.Azure.Commands.KeyVault.Models.KeyBundle** or a list of all **KeyBundle** objects in a key vault or by version.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.KeyVault.dll-Help.xml
  Module Name: Az.KeyVault
  ms.assetid: 2BE34AE1-06FA-4F66-8FDB-CED22C2E0978
  online version: https://docs.microsoft.com/en-us/powershell/module/az.keyvault/get-azkeyvaultkey
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/KeyVault/KeyVault/help/Get-AzKeyVaultKey.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/KeyVault/KeyVault/help/Get-AzKeyVaultKey.md
