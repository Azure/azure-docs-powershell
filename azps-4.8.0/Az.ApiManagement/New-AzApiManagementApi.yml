### YamlMime:PowershellCmdlet
summary: |-
  Creates an API.
module: Az.ApiManagement
notes: ""
inputs:
- name: <xref href="Microsoft.Azure.Commands.ApiManagement.ServiceManagement.Models.PsApiManagementContext" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.ApiManagement.ServiceManagement.Models.PsApiManagementSchema" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  description: ""
- name: <xref href="System.String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.ApiManagement.ServiceManagement.Models.PsApiManagementApi" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Export-AzApiManagementApi
  href: ./Export-AzApiManagementApi.yml
- text: Get-AzApiManagementApi
  href: ./Get-AzApiManagementApi.yml
- text: Import-AzApiManagementApi
  href: ./Import-AzApiManagementApi.yml
- text: Remove-AzApiManagementApi
  href: ./Remove-AzApiManagementApi.yml
- text: Set-AzApiManagementApi
  href: ./Set-AzApiManagementApi.yml
syntaxes:
- >-
  New-AzApiManagementApi -Context <PsApiManagementContext> [-ApiId <String>] -Name <String>

   [-Description <String>] -ServiceUrl <String> -Path <String> -Protocols <PsApiManagementSchema[]>

   [-AuthorizationServerId <String>] [-AuthorizationScope <String>] [-OpenIdProviderId <String>]

   [-BearerTokenSendingMethod <String[]>] [-SubscriptionKeyHeaderName <String>]

   [-SubscriptionKeyQueryParamName <String>] [-ProductIds <String[]>] [-SubscriptionRequired]

   [-ApiVersionDescription <String>] [-ApiVersionSetId <String>] [-ApiVersion <String>] [-SourceApiId <String>]

   [-SourceApiRevision <String>] [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Create an API'
  code: |-
    PS C:\>$ApiMgmtContext = New-AzApiManagementContext -ResourceGroupName "Api-Default-WestUS" -ServiceName "contoso"
    PS C:\>New-AzApiManagementApi -Context $ApiMgmtContext -Name "Echo api" -ServiceUrl "https://contoso.com/apis/echo" -Protocols @("http", "https") -Path "testapi"
  description: |-
    This command creates an API named EchoApi with the specified URL.
  summary: ""
- title: 'Example 2: Create an API by copying all operation, Tags, Products and Policies from echo-api and into an ApiVersionSet'
  code: |-
    PS D:\github\azure-powershell>$context = New-AzApiManagementContext -ResourceId /subscriptions/subid/resourceGroups/Api-Default-West-US/providers/Microsoft.ApiManagement/service/contoso
    PS D:\github\azure-powershell>$versionSet = Get-AzApiManagementApiVersionSet -Context $context -ApiVersionSetId "xmsVersionSet"
    PS D:\github\azure-powershell> New-AzApiManagementApi -Context $context -Name "echoapiv4" -Description "Create Echo Api V4" -SubscriptionRequired -ServiceUrl "https://echoapi.cloudapp.net/v4" -Path "echov3" -Protocols @("http", "https") -ApiVersionSetId $versionSet.ApiVersionSetId -SourceApiId "echo-api" -ApiVersion "v4"


    ApiId                         : 691b7d410125414a929c108541c60e06
    Name                          : echoapiv4
    Description                   : Create Echo Api V4
    ServiceUrl                    : https://echoapi.cloudapp.net/v4 
    Path                          : echov3
    ApiType                       : http
    Protocols                     : {Http, Https}
    AuthorizationServerId         :
    AuthorizationScope            :
    OpenidProviderId              :
    BearerTokenSendingMethod      : {}
    SubscriptionKeyHeaderName     : Ocp-Apim-Subscription-Key
    SubscriptionKeyQueryParamName : subscription-key
    ApiRevision                   : 1
    ApiVersion                    : v4
    IsCurrent                     : True
    IsOnline                      : False
    SubscriptionRequired          : True
    ApiRevisionDescription        :
    ApiVersionSetDescription      :
    ApiVersionSetId               : /subscriptions/subid/resourceGroups/Api-Default-West-US/providers/Microsoft.ApiManagement/service/contoso/apiVersionSets/xmsVersionSet
    Id                            : /subscriptions/subid/resourceGroups/Api-Default-West-US/providers/Microsoft.ApiManagement/service/contoso/apis/691b7d410125414a929c108541c60e06    
    ResourceGroupName             : Api-Default-West-US
    ServiceName                   : contoso
  description: |-
    This command creates an API `echoapiv3` in ApiVersionSet `xmsVersionSet` and copies all operation, Tags and Policies from source Api `echo-api`. It overrides the SubscriptionRequired, ServiceUrl, Path, Protocols
  summary: ""
- title: Example 3
  code: |-
    <!-- Aladdin Generated Example --> 
    New-AzApiManagementApi -ApiId '0001' -Context <PsApiManagementContext> -Name 'Echo api' -Path 'echov3' -Protocols Http -ServiceUrl 'https://contoso.com/apis/echo'
  description: ""
  summary: |+
    Creates an API. (autogenerated)

parameters:
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ApiId
  description: |+
    Specifies the ID of the API to create.
    If you do not specify this parameter, this cmdlet generates an ID for you.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ApiVersion
  description: |+
    Api Version of the Api to create. This parameter is optional.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ApiVersionDescription
  description: |+
    Api Version Description. This parameter is optional.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ApiVersionSetId
  description: |+
    A resource identifier for the related Api Version Set. This parameter is optional.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: AuthorizationScope
  description: |+
    Specifies the OAuth operations scope.
    The default value is $Null.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: AuthorizationServerId
  description: |+
    Specifies the OAuth authorization server ID.
    The default value is $Null.
    You must specify this parameter if *AuthorizationScope* is specified.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: BearerTokenSendingMethod
  description: |+
    OpenId authorization server mechanism by which access token is passed to the API. Refer to http://tools.ietf.org/html/rfc6749#section-4. This parameter is optional. Default value is $null.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.ApiManagement.ServiceManagement.Models.PsApiManagementContext" data-throw-if-not-resolved="False" />
  name: Context
  isRequired: true
  description: |+
    Specifies a **PsApiManagementContext** object.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure.

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Description
  description: |+
    Specifies a description for the web API.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Name
  isRequired: true
  description: |+
    Specifies the name of the web API.
    This is the public name of the API as it appears on the developer and admin portals.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: OpenIdProviderId
  description: |+
    OpenId authorization server identifier. This parameter is optional. Default value is $null. Must be specified if BearerTokenSendingMethods is specified.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Path
  isRequired: true
  description: |+
    Specifies the web API path, which is the last part of the API's public URL and corresponds to the Web API URL suffix field in the admin portal.
    This URL is used by API consumers to send requests to the web service, and must be one to 400 characters long.
    The default value is $Null.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: ProductIds
  description: |+
    Specifies an array of product IDs to which to add the new API.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.ApiManagement.ServiceManagement.Models.PsApiManagementSchema" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: Protocols
  isRequired: true
  description: |+
    Specifies an array of web API protocols.
    Valid values are http, https.
    These are the web protocols over which the API is made available.
    The default value is $Null.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: Http, Https
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ServiceUrl
  isRequired: true
  description: |+
    Specifies the URL of the web service that exposes the API.
    This URL is used only by Azure API Management, and is not made public.
    The URL must be one to 2000 characters long.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: SourceApiId
  description: |+
    Api identifier of the source API. This parameter is optional.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: SourceApiRevision
  description: |+
    Api Revision of the source API. This parameter is optional.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: SubscriptionKeyHeaderName
  description: |+
    Specifies the subscription key header name.
    The default value is $Null.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: SubscriptionKeyQueryParamName
  description: |+
    Specifies the subscription key query string parameter name.
    The default value is $Null.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: SubscriptionRequired
  description: |+
    Flag to enforce SubscriptionRequired for requests to the Api. This parameter is optional.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: Az.ApiManagement.New-AzApiManagementApi
name: New-AzApiManagementApi
description: |-
  The **New-AzApiManagementApi** cmdlet creates an Azure API Management API.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.ApiManagement.ServiceManagement.dll-Help.xml
  Module Name: Az.ApiManagement
  ms.assetid: 664CF009-FC52-4F1B-933B-3DEBD05AC8C5
  online version: https://docs.microsoft.com/en-us/powershell/module/az.apimanagement/new-azapimanagementapi
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/ApiManagement/ApiManagement/help/New-AzApiManagementApi.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/ApiManagement/ApiManagement/help/New-AzApiManagementApi.md
