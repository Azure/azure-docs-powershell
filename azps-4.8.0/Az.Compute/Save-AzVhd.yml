### YamlMime:PowershellCmdlet
summary: |-
  Saves downloaded .vhd images locally.
module: Az.Compute
notes: ""
inputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.Uri" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.Compute.Models.VhdDownloadContext" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Add-AzVhd
  href: ./Add-AzVhd.yml
syntaxes:
- >-
  Save-AzVhd [-ResourceGroupName] <String> [-SourceUri] <Uri> [-LocalFilePath] <FileInfo>

   [[-NumberOfThreads] <Int32>] [-OverWrite] [-AsJob] [-DefaultProfile <IAzureContextContainer>]

   [<CommonParameters>]
- >-
  Save-AzVhd [-StorageKey] <String> [-SourceUri] <Uri> [-LocalFilePath] <FileInfo> [[-NumberOfThreads] <Int32>]

   [-OverWrite] [-AsJob] [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Download an image'
  code: |-
    PS C:\> Save-AzVhd -SourceUri "http://contosoaccount.blob.core.windows.net/vhdstore/win7baseimage.vhd" -LocalFilePath "C:\vhd\Win7Image.vhd" -ResourceGroupName "rgname"
  description: |-
    This command downloads a .vhd file, and stores it in the local path C:\vhd\Win7Image.vhd.
  summary: ""
- title: 'Example 2: Download an image and overwrite the local file'
  code: |-
    PS C:\> Save-AzVhd -SourceUri "http://contosoaccount.blob.core.windows.net/vhdstore/win7baseimage.vhd" -LocalFilePath "C:\vhd\Win7Image.vhd" -Overwrite -ResourceGroupName "rgname"
  description: |-
    This command downloads a .vhd file, and stores it in the local path.
    The command includes the *Overwrite* parameter.
    Therefore, if C:\vhd\Win7Image.vhd already exists, this command replaces it.
  summary: ""
- title: 'Example 3: Download an image by using a specified number of threads'
  code: |-
    PS C:\> Save-AzVhd -SourceUri "http://contosoaccount.blob.core.windows.net/vhdstore/win7baseimage.vhd" -LocalFilePath "C:\vhd\Win7Image.vhd" -NumberOfThreads 32 -ResourceGroupName "rgname"
  description: |-
    This command downloads a .vhd file, and stores it in the local path.
    The command specifies a value of 32 for the *NumberOfThreads* parameter.
    Therefore, the cmdlet uses 32 threads for this action.
  summary: ""
- title: 'Example 4: Download an image and specify the storage key'
  code: |-
    PS C:\> Save-AzVhd -SourceUri "http://contosoaccount.blob.core.windows.net/vhdstore/win7baseimage.vhd" -LocalFilePath "C:\vhd\Win7Image.vhd" -StorageKey "zNvcH0r5vAGmC5AbwEtpcyWCMyBd3eMDbdaa4ua6kwxq6vTZH3Y+sw==" -ResourceGroupName "rgname"
  description: |-
    This command downloads a .vhd file and specifies the storage key.
  summary: ""
parameters:
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsJob
  description: |+
    Run cmdlet in the background and return a Job to track progress.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure.

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.IO.FileInfo" data-throw-if-not-resolved="False" />
  name: LocalFilePath
  isRequired: true
  description: |+
    Specifies the local file path of the saved image.

  defaultValue: None
  position: "2"
  aliases: lf
  parameterValueGroup: ""
- type: <xref href="System.Int32" data-throw-if-not-resolved="False" />
  name: NumberOfThreads
  description: |+
    Specifies the number of download threads that this cmdlet uses during download.

  defaultValue: None
  position: "3"
  aliases: th
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: OverWrite
  description: |+
    Indicates that this cmdlet replaces the file specified by *LocalFilePath* file if it exists.

  defaultValue: None
  position: "4"
  aliases: o
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ResourceGroupName
  isRequired: true
  description: |+
    Specifies the name of the resource group of the storage account.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Uri" data-throw-if-not-resolved="False" />
  name: SourceUri
  isRequired: true
  description: |+
    Specifies the Uniform Resource Identifier (URI) of the blob in `Azure`.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: src, Source
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: StorageKey
  isRequired: true
  description: |+
    Specifies the storage key of the blob storage account.
    If you do not specify a key, this cmdlet attempts to determine the storage key of the account in *SourceUri* from Azure.

  defaultValue: None
  position: "0"
  aliases: sk
  parameterValueGroup: ""
uid: Az.Compute.Save-AzVhd
name: Save-AzVhd
description: |-
  The **Save-AzVhd** cmdlet saves .vhd images from a blob where they are stored to a file.
  You can specify the number of downloader threads that the process uses and whether to replace a file that already exists.
  This cmdlet downloads content as it is.
  It does not apply any Virtual Hard Disk (VHD) format conversion.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Compute.dll-Help.xml
  Module Name: Az.Compute
  ms.assetid: 18E1AD70-42A6-47A2-A685-6E218B6DC4BE
  online version: https://docs.microsoft.com/en-us/powershell/module/az.compute/save-azvhd
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Compute/Compute/help/Save-AzVhd.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Compute/Compute/help/Save-AzVhd.md
