### YamlMime:PowershellCmdlet
summary: |-
  Registers an Azure virtual machine as a DSC node for an Automation account.
module: Az.Automation
notes: ""
inputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.Int32" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.Boolean" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="System.Void" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzAutomationDscNode
  href: ./Get-AzAutomationDscNode.yml
- text: Set-AzAutomationDscNode
  href: ./Set-AzAutomationDscNode.yml
- text: Unregister-AzAutomationDscNode
  href: ./Unregister-AzAutomationDscNode.yml
syntaxes:
- >-
  Register-AzAutomationDscNode -AzureVMName <String> [-NodeConfigurationName <String>]

   [-ConfigurationMode <String>] [-ConfigurationModeFrequencyMins <Int32>] [-RefreshFrequencyMins <Int32>]

   [-RebootNodeIfNeeded <Boolean>] [-ActionAfterReboot <String>] [-AllowModuleOverwrite <Boolean>]

   [-AzureVMResourceGroup <String>] [-AzureVMLocation <String>] [-ResourceGroupName] <String>

   [-AutomationAccountName] <String> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Register an Azure virtual machine as an Azure DSC node'
  code: |-
    PS C:\>Register-AzAutomationDscNode -AutomationAccountName "Contoso17" -AzVMName "VirtualMachine01" -ResourceGroupName "ResourceGroup01"-NodeConfigurationName "ContosoConfiguration.webserver"
  description: |-
    This command registers the Azure virtual machine named VirtualMachine01 as a DSC node in the Automation account named Contoso17.
  summary: ""
parameters:
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ActionAfterReboot
  description: |+
    Specifies the action that the virtual machine takes after it restarts.
    Valid values are: 
    - ContinueConfiguration 
    - StopConfiguration

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ContinueConfiguration, StopConfiguration
- type: <xref href="System.Boolean" data-throw-if-not-resolved="False" />
  name: AllowModuleOverwrite
  description: |+
    Specifies whether new configurations that this DSC node downloads from the Azure Automation DSC pull server replace the existing modules already on the target node.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: AutomationAccountName
  isRequired: true
  description: |+
    Specifies the name of an Automation account in which this cmdlet registers a virtual machine.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: AzureVMLocation
  description: |+
    The Azure VM location.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: AzureVMName
  isRequired: true
  description: |+
    The name of the Azure virtual machine to register for management with Azure Automation DSC.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: AzureVMResourceGroup
  description: |+
    The Azure VM resource group name.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ConfigurationMode
  description: |+
    Specifies the DSC configuration mode.
    Valid values are: 
    - ApplyAndMonitor 
    - ApplyAndAutocorrect 
    - ApplyOnly

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ApplyAndMonitor, ApplyAndAutocorrect, ApplyOnly
- type: <xref href="System.Int32" data-throw-if-not-resolved="False" />
  name: ConfigurationModeFrequencyMins
  description: |+
    Specifies the frequency, in minutes, at which the background application of DSC attempts to implement the current configuration on the target node.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: NodeConfigurationName
  description: |+
    Specifies the name of the node configuration that this cmdlet configures the virtual machine to pull from Azure Automation DSC.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Boolean" data-throw-if-not-resolved="False" />
  name: RebootNodeIfNeeded
  description: |+
    Specifies whether to restart the virtual machine, if needed.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Int32" data-throw-if-not-resolved="False" />
  name: RefreshFrequencyMins
  description: |+
    Specifies the frequency, in minutes, at which the local Configuration Manager contacts the Azure Automation DSC pull server to download the latest node configuration.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ResourceGroupName
  isRequired: true
  description: |+
    Specifies the name of a resource group.
    The Automation account with which this cmdlet registers a virtual machine belongs to the resource group that this parameter specifies.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
uid: Az.Automation.Register-AzAutomationDscNode
name: Register-AzAutomationDscNode
description: |-
  The **Register-AzAutomationDscNode** cmdlet registers an Azure virtual machine as an APS Desired State Configuration (DSC) node in an Azure Automation account.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Automation.dll-Help.xml
  Module Name: Az.Automation
  ms.assetid: 73E6DF02-7171-481B-966F-DECEC122A602
  online version: https://docs.microsoft.com/en-us/powershell/module/az.automation/register-azautomationdscnode
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Automation/Automation/help/Register-AzAutomationDscNode.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Automation/Automation/help/Register-AzAutomationDscNode.md
