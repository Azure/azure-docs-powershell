### YamlMime:PowershellCmdlet
summary: |-
  Configures the DSC extension on a virtual machine.
module: Az.Compute
notes: ""
inputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.Collections.Hashtable" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.Compute.Models.PSAzureOperationResponse" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzVMDscExtension
  href: ./Get-AzVMDscExtension.yml
- text: Remove-AzVMDscExtension
  href: ./Remove-AzVMDscExtension.yml
- text: Publish-AzVMDscConfiguration
  href: ./Publish-AzVMDscConfiguration.yml
syntaxes:
- >-
  Set-AzVMDscExtension [-ResourceGroupName] <String> [-VMName] <String> [-Name <String>]

   [-ArchiveBlobName] <String> [-ArchiveStorageAccountName] <String> [-ArchiveResourceGroupName <String>]

   [-ArchiveStorageEndpointSuffix <String>] [-ArchiveContainerName <String>] [-ConfigurationName <String>]

   [-ConfigurationArgument <Hashtable>] [-ConfigurationData <String>] [-Version] <String> [-Force]

   [-Location <String>] [-AutoUpdate] [-WmfVersion <String>] [-DataCollection <String>]

   [-DefaultProfile <IAzureContextContainer>] [-WhatIf] [-Confirm] [<CommonParameters>]
examples:
- title: 'Example 1: Set a DSC extension'
  code: |-
    PS C:\> Set-AzVMDscExtension -ResourceGroupName "ResourceGroup001" -VMName "VM07" -ArchiveBlobName "Sample.ps1.zip" -ArchiveStorageAccountName "Stg" -ConfigurationName "ConfigName" -Version "1.10" -Location "West US"
  description: |-
    This command sets the DSC extension on the virtual machine named VM07 to download Sample.ps1.zip from the storage account named Stg and the default container.
    The command invokes the configuration named ConfigName.
    The Sample.ps1.zip file was previously uploaded by using **Publish-AzVMDscConfiguration**.
  summary: ""
- title: 'Example 2: Set a DSC extension with configuration data'
  code: |-
    PS C:\> Set-AzVMDscExtension -ResourceGroupName "ResourceGroup001" -VMName "VM13" -ArchiveBlobName "Sample.ps1.zip" -ArchiveStorageAccountName "Stg" -ConfigurationName "ConfigName" -ConfigurationArgument "@{arg="val"}" -ArchiveContainerName "WindowsPowerShellDSC" -ConfigurationData "SampleData.psd1" -Version "1.10" -Location "West US"
  description: |-
    This command sets the extension on the virtual machine named VM13 to download Sample.ps1.zip from the storage account named Stg and the container named WindowsPowerShellDSC.
    The command the configuration named ConfigName and specifies configuration data and arguments.
    The Sample.ps1.zip file was previously uploaded by using **Publish-AzVMDscConfiguration**.
  summary: ""
- title: 'Example 3: Set a DSC extension with configuration data that has auto update'
  code: |-
    PS C:\> Set-AzVMDscExtension -ResourceGroupName "ResourceGroup001" -VMName "VM22" -ArchiveBlobName "Sample.ps1.zip" -ArchiveStorageAccountName "Stg" -ConfigurationName "ConfigName" -ConfigurationArgument "@{arg="val"}" -ArchiveContainerName WindowsPowerShellDSC -ConfigurationData "SampleData.psd1" -Version "1.10" -Location "West US" -AutoUpdate
  description: |-
    This command sets the extension on the virtual machine named VM22 to download Sample.ps1.zip from the storage account named Stg and the container named WindowsPowerShellDSC.
    The command invokes the configuration named ConfigName and specifies configuration data and arguments.
    This command also enables auto update of extension handler to the latest version.
    The Sample.ps1.zip was previously uploaded by using **Publish-AzVMDscConfiguration**.
  summary: ""
parameters:
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ArchiveBlobName
  isRequired: true
  description: |+
    Specifies the name of the configuration file that was previously uploaded by the Publish-AzVMDscConfiguration cmdlet.

  defaultValue: None
  pipelineInput: true
  position: "5"
  aliases: ConfigurationArchiveBlob
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ArchiveContainerName
  description: |+
    Species name of the Azure storage container where the configuration archive is located.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ContainerName
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ArchiveResourceGroupName
  description: |+
    Specifies the name of the resource group that contains the storage account that contains the configuration archive.
    This parameter is optional if the storage account and virtual machine are both in the same resource group.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ArchiveStorageAccountName
  isRequired: true
  description: |+
    Specifies the Azure storage account name that is used to download the ArchiveBlobName.

  defaultValue: None
  pipelineInput: true
  position: "4"
  aliases: StorageAccountName
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ArchiveStorageEndpointSuffix
  description: |+
    Specifies the storage endpoint suffix.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: StorageEndpointSuffix
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: AutoUpdate
  description: |+
    Specifies the extension handler version specified by the *Version* parameter.
    By default extension handler is not autoupdated.
    Use the *AutoUpdate* parameter to enable auto update of the extension handler to the latest version as and when it is available.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Collections.Hashtable" data-throw-if-not-resolved="False" />
  name: ConfigurationArgument
  description: |+
    Specifies a hash table that contains the arguments to the configuration function.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ConfigurationData
  description: |+
    Specifies the path of a .psd1 file that specifies the data for the configuration.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ConfigurationName
  description: |+
    Specifies the name of the configuration that the DSC Extension invokes.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: "False"
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: DataCollection
  description: |+
    Specifies the data collection type.
    The acceptable values for this parameter are: Enable and Disable.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: Enable, Disable
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure.

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Forces the command to run without asking for user confirmation.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Location
  description: |+
    Specifies the path of the resource extension.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Name
  description: |+
    Specifies the name of the Azure Resource Manager resource that represents the extension.
    The default value is Microsoft.Powershell.DSC.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ResourceGroupName
  isRequired: true
  description: |+
    Specifies the name of the resource group of the virtual machine.

  defaultValue: None
  pipelineInput: true
  position: "2"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Version
  isRequired: true
  description: |+
    Specifies the version of the DSC extension that Set-AzVMDscExtension applies the settings to.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: HandlerVersion
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: VMName
  isRequired: true
  description: |+
    Specifies the name of the virtual machine where DSC extension handler is installed.

  defaultValue: None
  pipelineInput: true
  position: "3"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: "False"
  position: Named
  aliases: wi
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: WmfVersion
  description: |+
    Specifies the WMF version.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: 4.0, 5.0, 5.1, latest
uid: Az.Compute.Set-AzVMDscExtension
name: Set-AzVMDscExtension
description: |-
  The **Set-AzVMDscExtension** cmdlet configures the Windows PowerShell Desired State Configuration (DSC) extension on a virtual machine in a resource group.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Compute.dll-Help.xml
  Module Name: Az.Compute
  ms.assetid: 04F58D88-53D6-42CA-852C-9E2A129898C7
  online version: https://docs.microsoft.com/en-us/powershell/module/az.compute/set-azvmdscextension
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Compute/Compute/help/Set-AzVMDscExtension.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Compute/Compute/help/Set-AzVMDscExtension.md
