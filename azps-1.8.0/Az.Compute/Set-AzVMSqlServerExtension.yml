### YamlMime:PowershellCmdlet
summary: |-
  Sets the Azure SQL Server extension on a virtual machine.
module: Az.Compute
notes: ""
inputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.Compute.AutoPatchingSettings" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.Compute.AutoBackupSettings" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.Compute.KeyVaultCredentialSettings" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.Compute.Models.PSAzureOperationResponse" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzVM
  href: ./Get-AzVM.yml
- text: Get-AzVMSqlServerExtension
  href: ./Get-AzVMSqlServerExtension.yml
- text: New-AzVMSqlServerAutoPatchingConfig
  href: ./New-AzVMSqlServerAutoPatchingConfig.yml
- text: New-AzVMSqlServerAutoBackupConfig
  href: ./New-AzVMSqlServerAutoBackupConfig.yml
- text: Remove-AzVMSqlServerExtension
  href: ./Remove-AzVMSqlServerExtension.yml
- text: Update-AzVM
  href: ./Update-AzVM.yml
syntaxes:
- >-
  Set-AzVMSqlServerExtension [[-Version] <String>] [-ResourceGroupName] <String> [-VMName] <String>

   [[-Name] <String>] [[-AutoPatchingSettings] <AutoPatchingSettings>]

   [[-AutoBackupSettings] <AutoBackupSettings>] [[-KeyVaultCredentialSettings] <KeyVaultCredentialSettings>]

   [[-Location] <String>] [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Set automatic patching settings on a virtual machine'
  code: |-
    PS C:\> $AutoPatchingConfig = New-AzVMSqlServerAutoPatchingConfig -Enable -DayOfWeek "Thursday" -MaintenanceWindowStartingHour 11 -MaintenanceWindowDuration 120 -PatchCategory "Important"
    PS C:\> Get-AzVM -ServiceName "Service02" -Name "VirtualMachine11" | Set-AzVMSqlServerExtension -AutoPatchingSettings $AutoPatchingConfig | Update-AzVM
  description: |-
    The first command creates a configuration object by using the **New-AzVMSqlServerAutoPatchingConfig** cmdlet.
    The command stores the configuration in the $AutoPatchingConfig variable.
    The second command gets the virtual machine named VirtualMachine11 on the service named Service02 by using the Get-AzVM cmdlet.
    The command passes that object to the current cmdlet by using the pipeline operator.
    The current cmdlet sets the automatic patching settings in $AutoPatchingConfig for the virtual machine.
    The command passes the virtual machine to the Update-AzVM cmdlet.
  summary: ""
- title: 'Example 2: Set automatic backup settings on a virtual machine'
  code: |-
    PS C:\> $AutoBackupConfig = New-AzVMSqlServerAutoBackupConfig -Enable -RetentionPeriod 10 -StorageUri $StorageUrl -StorageKey $StorageAccountKeySecure
    PS C:\> Get-AzVM -ServiceName "Service02" -Name "VirtualMachine11" | Set-AzVMSqlServerExtension -AutoBackupSettings $AutoBackupConfig | Update-AzVM
  description: |-
    The first command creates a configuration object by using the **New-AzVMSqlServerAutoBackupConfig** cmdlet.
    The command stores the configuration in the $AutoBackupConfig variable.
    The second command gets the virtual machine named VirtualMachine11 on the service named Service02, and then passes it to the current cmdlet.
    The current cmdlet sets the automatic backup settings in $AutoBackupConfig for the virtual machine.
    The command passes the virtual machine to the Update-AzVM cmdlet.
  summary: ""
- title: 'Example 3: Disable a SQL Server extension on a virtual machine'
  code: |-
    PS C:\> Get-AzVM -ServiceName "Service03" -Name "VirtualMachine08" | Set-AzVMSqlServerExtension -Disable
  description: |-
    This command gets a virtual machine named VirtualMachine08 on Service03, and then passes it to the current cmdlet.
    The command disables SQL Server virtual machine extension on that virtual machine.
  summary: ""
- title: 'Example 4: Uninstall a SQL Server extension on a specific virtual machine'
  code: |-
    PS C:\> Get-AzVM -ServiceName "Service03" -Name "VirtualMachine08" | Set-AzVMSqlServerExtension -Uninstall
  description: |-
    This command gets a virtual machine named VirtualMachine08 on Service03, and then passes it to the current cmdlet.
    The command uninstalls a SQL Server virtual machine extension on that virtual machine.
  summary: ""
parameters:
- type: <xref href="Microsoft.Azure.Commands.Compute.AutoBackupSettings" data-throw-if-not-resolved="False" />
  name: AutoBackupSettings
  description: |+
    Specifies the automatic SQL Server backup settings.
    To create an **AutoBackupSettings** object , use the New-AzVMSqlServerAutoBackupConfig cmdlet.

  defaultValue: None
  pipelineInput: true
  position: "6"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Compute.AutoPatchingSettings" data-throw-if-not-resolved="False" />
  name: AutoPatchingSettings
  description: |+
    Specifies the automatic SQL Server patching settings.
    To create an **AutoPatchingSettings** object , use the New-AzVMSqlServerAutoPatchingConfig cmdlet.

  defaultValue: None
  pipelineInput: true
  position: "5"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure.

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Compute.KeyVaultCredentialSettings" data-throw-if-not-resolved="False" />
  name: KeyVaultCredentialSettings
  description: ""
  defaultValue: None
  pipelineInput: true
  position: "7"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Location
  description: |+
    Specifies the location of the virtual machine.

  defaultValue: None
  pipelineInput: true
  position: "8"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Name
  description: |+
    Specifies the name of the SQL Server the extension.

  defaultValue: None
  pipelineInput: true
  position: "4"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ResourceGroupName
  isRequired: true
  description: |+
    Specifies the name of the resource group of the virtual machine.

  defaultValue: None
  pipelineInput: true
  position: "2"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Version
  description: |+
    Specifies the version of the SQL Server extension.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: HandlerVersion
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: VMName
  isRequired: true
  description: |+
    Specifies the name of the virtual machine on which this cmdlet sets the SQL Server extension.

  defaultValue: None
  pipelineInput: true
  position: "3"
  aliases: ""
  parameterValueGroup: ""
uid: Az.Compute.Set-AzVMSqlServerExtension
name: Set-AzVMSqlServerExtension
description: |-
  The **Set-AzVMSqlServerExtension** cmdlet sets the AzureSQL Server extension on a virtual machine.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Compute.dll-Help.xml
  Module Name: Az.Compute
  ms.assetid: C650E465-7CDE-47F8-B85A-8FA3E1756FAF
  online version: https://docs.microsoft.com/en-us/powershell/module/az.compute/set-azvmsqlserverextension
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Compute/Compute/help/Set-AzVMSqlServerExtension.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Compute/Compute/help/Set-AzVMSqlServerExtension.md
