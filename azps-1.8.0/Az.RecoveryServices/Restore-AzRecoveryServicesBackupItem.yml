### YamlMime:PowershellCmdlet
summary: |-
  Restores the data and configuration for a Backup item to a recovery point.
module: Az.RecoveryServices
notes: ""
inputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.RecoveryServices.Backup.Cmdlets.Models.RecoveryPointBase" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.RecoveryServices.Backup.Cmdlets.Models.JobBase" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Backup-AzRecoveryServicesBackupItem
  href: ./Backup-AzRecoveryServicesBackupItem.yml
- text: Get-AzRecoveryServicesBackupItem
  href: ./Get-AzRecoveryServicesBackupItem.yml
- text: Get-AzRecoveryServicesBackupRecoveryPoint
  href: ./Get-AzRecoveryServicesBackupRecoveryPoint.yml
syntaxes:
- >-
  Restore-AzRecoveryServicesBackupItem [-VaultLocation <String>] [-RecoveryPoint] <RecoveryPointBase>

   [-StorageAccountName] <String> [-StorageAccountResourceGroupName] <String>

   [[-TargetResourceGroupName] <String>] [-UseOriginalStorageAccount] [-VaultId <String>]

   [-DefaultProfile <IAzureContextContainer>] [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  Restore-AzRecoveryServicesBackupItem [-VaultLocation <String>] [-RecoveryPoint] <RecoveryPointBase>

   -ResolveConflict <RestoreFSResolveConflictOption> [-SourceFilePath <String>]

   [-SourceFileType <SourceFileType>] [-TargetStorageAccountName <String>] [-TargetFileShareName <String>]

   [-TargetFolder <String>] [-VaultId <String>] [-DefaultProfile <IAzureContextContainer>] [-WhatIf] [-Confirm]

   [<CommonParameters>]
- >-
  Restore-AzRecoveryServicesBackupItem [-VaultLocation <String>] [-WLRecoveryConfig] <RecoveryConfigBase>

   [-VaultId <String>] [-DefaultProfile <IAzureContextContainer>] [-WhatIf] [-Confirm] [<CommonParameters>]
examples:
- title: 'Example 1: Restore an item to a recovery point'
  code: |-
    PS C:\>$Container = Get-AzRecoveryServicesBackupContainer -ContainerType AzureVM -Status Registered -Name "V2VM"
    PS C:\> $BackupItem = Get-AzRecoveryServicesBackupItem -ContainerType AzureVM -WorkloadType AzureVM 
    PS C:\> $StartDate = (Get-Date).AddDays(-7) 
    PS C:\> $EndDate = Get-Date
    PS C:\> $RP = Get-AzRecoveryServicesBackupRecoveryPoint -Item $BackupItem -StartDate $StartDate.ToUniversalTime() -EndDate $EndDate.ToUniversalTime() 
    PS C:\> $RestoreJob = Restore-AzRecoveryServicesBackupItem -RecoveryPoint $RP[0] -StorageAccountName "DestAccount" -StorageAccountResourceGroupName "DestRG"
        WorkloadName    Operation       Status          StartTime              EndTime
        ------------    ---------       ------          ---------              -------
        V2VM            Restore         InProgress      26-Apr-16 1:14:01 PM   01-Jan-01 12:00:00 AM
  description: |-
    The first command gets the Backup container of type AzureVM, and then stores it in the $Container variable.
    The second command gets the Backup item named V2VM from $Container, and then stores it in the $BackupItem variable.
    The third command gets the date from seven days earlier, and then stores it in the $StartDate variable.
    The fourth command gets the current date, and then stores it in the $EndDate variable.
    The fifth command gets a list of recovery points for the specific backup item filtered by $StartDate and $EndDate.
    The date range specified is the last 7 days.
    The last command restores the disks to the target storage account DestAccount in the DestRG resource group.
  summary: ""
parameters:
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: None
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure.

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.RecoveryServices.Backup.Cmdlets.Models.RecoveryPointBase" data-throw-if-not-resolved="False" />
  name: RecoveryPoint
  isRequired: true
  description: |+
    Specifies the recovery point to which to restore the virtual machine.
    To obtain an **AzureRmRecoveryServicesBackupRecoveryPoint** object, use the Get-AzRecoveryServicesBackupRecoveryPoint cmdlet.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.RecoveryServices.Backup.Cmdlets.Models.RestoreFSResolveConflictOption" data-throw-if-not-resolved="False" />
  name: ResolveConflict
  isRequired: true
  description: |+
    In case the restored item also exists in the destination, use this to indicate whether to overwrite or not.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: Overwrite, Skip
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: SourceFilePath
  description: |+
    Used for a particular item restore from a file share. The path of the item to be restored within the file share.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="Microsoft.Azure.Commands.RecoveryServices.Backup.Cmdlets.Models.SourceFileType" data-throw-if-not-resolved="False" /><span>]</span>
  name: SourceFileType
  description: |+
    Used for a particular item restore from a file share. The path of the item to be restored within the file share.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: File, Directory
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: StorageAccountName
  isRequired: true
  description: |+
    Specifies the name of the target Storage account in your subscription.
    As a part of the restore process, this cmdlet stores the disks and the configuration information in this Storage account.

  defaultValue: None
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: StorageAccountResourceGroupName
  isRequired: true
  description: |+
    Specifies the name of the resource group that contains the target Storage account in your subscription.
    As a part of the restore process, this cmdlet stores the disks and the configuration information in this Storage account.

  defaultValue: None
  position: "2"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: TargetFileShareName
  description: |+
    The File Share to which the file share has to be restored to.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: TargetFolder
  description: |+
    The folder under which the file share has to be restored to within the targetFileShareName.Leave the variable empty to restore under root folder.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: TargetResourceGroupName
  description: |+
    The resource group to which the managed disks are restored. Applicable to backup of VM with managed disks

  defaultValue: None
  position: "3"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: TargetStorageAccountName
  description: |+
    The storage account to which the file share has to be restored to.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: UseOriginalStorageAccount
  description: |+
    Use this switch if the disks from the recovery point are to be restored to their original storage accounts.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: VaultId
  description: |+
    ARM ID of the Recovery Services Vault.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: VaultLocation
  description: |+
    Location of the Recovery Services Vault.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs. The cmdlet is not run.

  defaultValue: None
  position: Named
  aliases: wi
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.RecoveryServices.Backup.Cmdlets.Models.RecoveryConfigBase" data-throw-if-not-resolved="False" />
  name: WLRecoveryConfig
  isRequired: true
  description: |+
    Recovery config

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
uid: Az.RecoveryServices.Restore-AzRecoveryServicesBackupItem
name: Restore-AzRecoveryServicesBackupItem
description: |-
  The **Restore-AzRecoveryServicesBackupItem** cmdlet restores the data and configuration for an Azure Backup item to a specified recovery point.
  This cmdlet starts the restore from the Recovery Services vault to customer's storage account.
  The restore operation does not restore the full virtual machine.
  It restores the disk data and configuration information.
  After the restore operation is finished, you must create the virtual machine and start it.
  Set the vault context by using the Set-AzRecoveryServicesVaultContext cmdlet before you use the current cmdlet.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.RecoveryServices.Backup.dll-Help.xml
  Module Name: Az.RecoveryServices
  ms.assetid: F49FA524-28BC-464F-BD0A-F898E99C83D8
  online version: https://docs.microsoft.com/en-us/powershell/module/az.recoveryservices/restore-azrecoveryservicesbackupitem
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/RecoveryServices/RecoveryServices/help/Restore-AzRecoveryServicesBackupItem.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/RecoveryServices/RecoveryServices/help/Restore-AzRecoveryServicesBackupItem.md
