### YamlMime:PowershellCmdlet
summary: |-
  Encrypts sensitive data.
module: Az.DataFactory
notes: |-
  * Keywords: azure, azurerm, arm, resource, management, manager, data, factories
inputs:
- name: <xref href="Microsoft.Azure.Commands.DataFactories.Models.PSDataFactory" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: New-AzDataFactoryEncryptValue
  href: ./New-AzDataFactoryEncryptValue.yml
syntaxes:
- >-
  New-AzDataFactoryEncryptValue [-DataFactoryName] <String> [[-Value] <SecureString>] [-GatewayName] <String>

   [[-Credential] <PSCredential>] [[-Type] <String>] [[-NonCredentialValue] <String>]

   [[-AuthenticationType] <String>] [[-Server] <String>] [[-Database] <String>] [-ResourceGroupName] <String>

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  New-AzDataFactoryEncryptValue [-DataFactory] <PSDataFactory> [[-Value] <SecureString>] [-GatewayName] <String>

   [[-Credential] <PSCredential>] [[-Type] <String>] [[-NonCredentialValue] <String>]

   [[-AuthenticationType] <String>] [[-Server] <String>] [[-Database] <String>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Encrypt a non-ODBC connection string'
  code: |-
    PS C:\>$Value = ConvertTo-SecureString 'Data Source=ContosoServer;Initial Catalog=catelog;user id =user123;password=password123' -AsPlainText -Force 
    PS C:\> New-AzDataFactoryEncryptValue -GatewayName "WikiGateway" -DataFactoryName "WikiAdf" -Value $value -ResourceGroupName "ADF" -Type OnPremisesSqlLinkedService
  description: |-
    The first command uses the ConvertTo-SecureString cmdlet to convert the specified connection string to a **SecureString** object, and then stores that object in the $Value variable.
    For more information, type `Get-Help ConvertTo-SecureString`.
    Allowed values: SQL Server or Oracle connection string.
    The second command creates an encrypted value for the object stored in $Value for the specified data factory, gateway, resource group, and linked service type.
  summary: ""
- title: 'Example 2: Encrypt a non-ODBC connection string that uses Windows authentication.'
  code: |-
    PS C:\>$Value = ConvertTo-SecureString 'Data Source=ContosoServer;Initial Catalog=catelog;Integrated Security=True' -AsPlainText -Force
    PS C:\> $Credential = Get-Credential
    PS C:\> New-AzDataFactoryEncryptValue -DataFactoryName "WikiADF" -GatewayName "WikiGateway" -ResourceGroupName "ADF" -Value $Value -Credential $Credential -Type OnPremisesSqlLinkedService $Value = ConvertTo-SecureString 'Data Source=ContosoServer;Initial Catalog=catelog;Integrated Security=True' -AsPlainText -Force
  description: |-
    The first command uses **ConvertTo-SecureString** to convert the specified connection string to a secure string object, and then stores that object in the $Value variable.
    The second command uses the Get-Credential cmdlet to collect the windows authentication (user name and password), and then stores that **PSCredential** object in the $Credential variable.
    For more information, type `Get-Help Get-Credential`.
    The third command creates an encrypted value for the object stored in $Value and $Credential for the specified data factory, gateway, resource group, and linked service type.
  summary: ""
- title: 'Example 3: Encrypt server name and credentials for File system linked service'
  code: |-
    PS C:\>$Value = ConvertTo-SecureString '\\servername' -AsPlainText -Force
    PS C:\> $Credential = Get-Credential
    PS C:\> New-AzDataFactoryEncryptValue -DataFactoryName "WikiADF" -GatewayName "WikiGateway" -ResourceGroupName "ADF" -Value $Value -Credential $Credential -Type OnPremisesFileSystemLinkedService
  description: |-
    The first command uses **ConvertTo-SecureString** to convert the specified string to a secure string, and then stores that object in the $Value variable.
    The second command uses **Get-Credential** to collect the windows authentication (user name and password), and then stores that **PSCredential** object in the $Credential variable.
    The third command creates an encrypted value for the object stored in $Value and $Credential for the specified data factory, gateway, resource group, and linked service type.
  summary: ""
- title: 'Example 4: Encrypt credentials for HDFS linked service'
  code: |-
    PS C:\>$UserName = ConvertTo-SecureString "domain\\username" -AsPlainText -Force
    $Password = ConvertTo-SecureString "password" -AsPlainText -Force
    $Credential = New-Object System.Management.Automation.PSCredential ($UserName, $Password)
    New-AzDataFactoryEncryptValue -DataFactoryName "MyDataFactory" -ResourceGroupName "MyResourceGroup" -GatewayName "MyDataManagementGateway" -Type HdfsLinkedService -AuthenticationType Windows -Credential $Credential -NonCredentialValue "http://server01.com:50070/webhdfs/v1/user/username"
  description: |-
    The **ConvertTo-SecureString** command converts the specified string to a secure string.
    The **New-Object** command creates a PSCredential object using the secure username and password strings.
    Instead, you could use the **Get-Credential** command to collect windows authentication (user name and password), and then store the returned **PSCredential** object in the $credential variable as shown in previous examples.
    The **New-AzDataFactoryEncryptValue** command creates an encrypted value for the object stored in $Credential for the specified data factory, gateway, resource group, and linked service type.
  summary: ""
- title: 'Example 5: Encrypt credentials for ODBC linked service'
  code: |-
    PS C:\>$Content = ConvertTo-SecureString "UID=username@contoso;PWD=password;" -AsPlainText -Force
    New-AzDataFactoryEncryptValue -ResourceGroupName $RGName -DataFactoryName $DFName -GatewayName $Gateway -Type OnPremisesOdbcLinkedService -AuthenticationType Basic -NonCredentialValue "Driver={SQL Server};Server=server01.database.contoso.net; Database=HDISScenarioTest;" -Value $content
  description: |-
    The **ConvertTo-SecureString** command converts the specified string to a secure string.
    The **New-AzDataFactoryEncryptValue** command creates an encrypted value for the object stored in $Value for the specified data factory, gateway, resource group, and linked service type.
  summary: ""
parameters:
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: AuthenticationType
  description: |+
    Specifies the type of authentication to be used to connect to the data source.
    The acceptable values for this parameter are:
    - Windows
    - Basic
    - Anonymous.

  defaultValue: None
  position: "6"
  aliases: ""
  parameterValueGroup: Windows, Basic, Anonymous
- type: <xref href="System.Management.Automation.PSCredential" data-throw-if-not-resolved="False" />
  name: Credential
  description: |+
    Specifies the Windows authentication credentials (user name and password) to be used.
    This cmdlet encrypts the credential data you specify here.

  defaultValue: None
  position: "3"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Database
  description: |+
    Specifies the database name of the linked service.

  defaultValue: None
  position: "8"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.DataFactories.Models.PSDataFactory" data-throw-if-not-resolved="False" />
  name: DataFactory
  isRequired: true
  description: |+
    Specifies a **PSDataFactory** object.
    This cmdlet encrypts data for the data factory that this parameter specifies.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: DataFactoryName
  isRequired: true
  description: |+
    Specifies the name of a data factory.
    This cmdlet encrypts data for the data factory that this parameter specifies.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: GatewayName
  isRequired: true
  description: |+
    Specifies the name of the gateway.
    This cmdlet encrypts data for the gateway that this parameter specifies.

  defaultValue: None
  position: "2"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: NonCredentialValue
  description: |+
    Specifies the non-credential part of the Open Database Connectivity (ODBC) connection string.
    This parameter is applicable only for the ODBC linked service.

  defaultValue: None
  position: "5"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ResourceGroupName
  isRequired: true
  description: |+
    Specifies the name of an Azure resource group.
    This cmdlet encrypts data for the group that this parameter specifies.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Server
  description: |+
    Specifies the server name of the linked service.

  defaultValue: None
  position: "7"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Type
  description: |+
    Specifies the linked service type.
    This cmdlet encrypts data for the linked service type that this parameter specifies.
    The acceptable values for this parameter are:
    - OnPremisesSqlLinkedService 
    - OnPremisesFileSystemLinkedService 
    - OnPremisesOracleLinkedService 
    - OnPremisesOdbcLinkedService 
    - OnPremisesPostgreSqlLinkedService 
    - OnPremisesTeradataLinkedService 
    - OnPremisesMySQLLinkedService 
    - OnPremisesDB2LinkedService 
    - OnPremisesSybaseLinkedService

  defaultValue: None
  position: "4"
  aliases: ""
  parameterValueGroup: OnPremisesSqlLinkedService, OnPremisesFileSystemLinkedService, OnPremisesOracleLinkedService, OnPremisesOdbcLinkedService, OnPremisesPostgreSqlLinkedService, OnPremisesTeradataLinkedService, OnPremisesMySQLLinkedService, OnPremisesDB2LinkedService, OnPremisesSybaseLinkedService, HdfsLinkedService
- type: <xref href="System.Security.SecureString" data-throw-if-not-resolved="False" />
  name: Value
  description: |+
    Specifies the value to encrypt.
    For an on-premises SQL Server linked service and an on-premises Oracle linked service, use a connection string.
    For an on-premises ODBC linked service, use the credential part of the connection string.
    For on premises file system linked service, if the file system is local to the gateway computer, use Local or localhost, and if the file system is on a server different from the gateway computer, use \\\\servername.

  defaultValue: None
  position: "1"
  aliases: ""
  parameterValueGroup: ""
uid: Az.DataFactory.New-AzDataFactoryEncryptValue
name: New-AzDataFactoryEncryptValue
description: |-
  The **New-AzDataFactoryEncryptValue** cmdlet encrypts sensitive data, such as a password or a Microsoft SQL Server connection string, and returns an encrypted value.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.DataFactories.dll-Help.xml
  Module Name: Az.DataFactory
  ms.assetid: 5BF24BC2-DEB6-4830-BDEA-841BAB070388
  online version: https://docs.microsoft.com/en-us/powershell/module/az.datafactory/new-azdatafactoryencryptvalue
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/DataFactory/DataFactoryV2/help/New-AzDataFactoryEncryptValue.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/DataFactory/DataFactoryV2/help/New-AzDataFactoryEncryptValue.md
