### YamlMime:PowershellCmdlet
summary: |-
  This command creates a new Azure SQL Database Failover Group.
module: Az.Sql
notes: ""
inputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.Sql.FailoverGroup.Model.AzureSqlFailoverGroupModel" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Set-AzSqlDatabaseFailoverGroup
  href: ./Set-AzSqlDatabaseFailoverGroup.yml
- text: Get-AzSqlDatabaseFailoverGroup
  href: ./Get-AzSqlDatabaseFailoverGroup.yml
- text: Add-AzSqlDatabaseToFailoverGroup
  href: ./Add-AzSqlDatabaseToFailoverGroup.yml
- text: Remove-AzSqlDatabaseFromFailoverGroup
  href: ./Remove-AzSqlDatabaseFromFailoverGroup.yml
- text: Switch-AzSqlDatabaseFailoverGroup
  href: ./Switch-AzSqlDatabaseFailoverGroup.yml
- text: Remove-AzSqlDatabaseFailoverGroup
  href: ./Remove-AzSqlDatabaseFailoverGroup.yml
- text: SQL Database Documentation
  href: https://docs.microsoft.com/azure/sql-database/
syntaxes:
- >-
  New-AzSqlDatabaseFailoverGroup [-ServerName] <String> -FailoverGroupName <String>

   [-PartnerResourceGroupName <String>] -PartnerServerName <String> [-FailoverPolicy <FailoverPolicy>]

   [-GracePeriodWithDataLossHours <Int32>] [-AllowReadOnlyFailoverToPrimary <AllowReadOnlyFailoverToPrimary>]

   [-ResourceGroupName] <String> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: Example 1
  code: |-
    C:\> $failoverGroup = New-AzSqlDatabaseFailoverGroup -ResourceGroupName rg -ServerName primaryserver -PartnerServerName secondaryserver -FailoverGroupName fg -FailoverPolicy Automatic -GracePeriodWithDataLossHours 1
  description: |-
    This command creates a new Failover Group with failover policy 'Automatic' for two servers in the same resource group.
  summary: ""
- title: Example 2
  code: |-
    C:\> $failoverGroup = New-AzSqlDatabaseFailoverGroup -ResourceGroupName rg1 -ServerName primaryserver -PartnerResourceGroupName rg2 -PartnerServerName secondaryserver1 -FailoverGroupName fg -FailoverPolicy Manual
  description: |-
    This command creates a new Failover Group with failover policy 'Manual' for two servers in different resource groups.
  summary: ""
parameters:
- type: <xref href="Microsoft.Azure.Commands.Sql.FailoverGroup.Model.AllowReadOnlyFailoverToPrimary" data-throw-if-not-resolved="False" />
  name: AllowReadOnlyFailoverToPrimary
  description: |+
    Whether an outage on the secondary server should trigger automatic failover of the read-only endpoint. This feature is not yet supported.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: Enabled, Disabled
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: FailoverGroupName
  isRequired: true
  description: |+
    The name of the Azure SQL Database Failover Group to create.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Sql.FailoverGroup.Model.FailoverPolicy" data-throw-if-not-resolved="False" />
  name: FailoverPolicy
  description: |+
    The failover policy of the Azure SQL Database Failover Group.

  defaultValue: Automatic
  position: Named
  aliases: ""
  parameterValueGroup: Automatic, Manual
- type: <xref href="System.Int32" data-throw-if-not-resolved="False" />
  name: GracePeriodWithDataLossHours
  description: |+
    Interval before automatic failover is initiated if an outage occurs on the primary server and failover cannot be completed without data loss.

  defaultValue: "1"
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: PartnerResourceGroupName
  description: |+
    The name of the secondary resource group of the Azure SQL Database Failover Group.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: PartnerServerName
  isRequired: true
  description: |+
    The name of the secondary server of the Azure SQL Database Failover Group.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ResourceGroupName
  isRequired: true
  description: |+
    The name of the resource group.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ServerName
  isRequired: true
  description: |+
    The name of the primary Azure SQL Database Server of the Failover Group.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
uid: Az.Sql.New-AzSqlDatabaseFailoverGroup
name: New-AzSqlDatabaseFailoverGroup
description: |-
  Creates a new Azure SQL Database Failover Group for the specified servers.
  Two Azure SQL Database TDS endpoints are created at FailoverGroupName.SqlDatabaseDnsSuffix (for example, FailoverGroupName.database.windows.net) and FailoverGroupName.secondary.SqlDatabaseDnsSuffix. These endpoints may be used to connect to the primary and secondary servers in the Failover Group, respectively. If the primary server is affected by an outage, automatic failover of the endpoints and databases will be triggered as dictated by the Failover Group's failover policy and grace period.
  Newly created Failover Groups do not contain any databases. To control the set of databases in a Failover Group, use the 'Add-AzSqlDatabaseToFailoverGroup' and 'Remove-AzSqlDatabaseFromFailoverGroup' cmdlets.
  During preview of the Failover Groups feature, only values greater than or equal to 1 hour are supported for the '-GracePeriodWithDataLossHours' parameter.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Sql.dll-Help.xml
  Module Name: Az.Sql
  online version: https://docs.microsoft.com/en-us/powershell/module/az.sql/new-azsqldatabasefailovergroup
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Sql/Sql/help/New-AzSqlDatabaseFailoverGroup.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Sql/Sql/help/New-AzSqlDatabaseFailoverGroup.md
