### YamlMime:PowershellCmdlet
summary: |-
  Modifies a custom role in Azure RBAC.
  Provide the modified role definition either as a JSON file or as a PSRoleDefinition.
  First, use the Get-AzRoleDefinition command to retrieve the custom role that you wish to modify.
  Then, modify the properties that you wish to change.
  Finally, save the role definition using this command.
module: Az.Resources
notes: |-
  Keywords: azure, azurerm, arm, resource, management, manager, resource, group, template, deployment
inputs:
- name: <xref href="Microsoft.Azure.Commands.Resources.Models.Authorization.PSRoleDefinition" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.Resources.Models.Authorization.PSRoleDefinition" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzProviderOperation
  href: ./Get-AzProviderOperation.yml
- text: Get-AzRoleDefinition
  href: ./Get-AzRoleDefinition.yml
- text: New-AzRoleDefinition
  href: ./New-AzRoleDefinition.yml
- text: Remove-AzRoleDefinition
  href: ./Remove-AzRoleDefinition.yml
syntaxes:
- Set-AzRoleDefinition -InputFile <String> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- Set-AzRoleDefinition -Role <PSRoleDefinition> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: Update using PSRoleDefinitionObject
  code: |-
    PS C:\> $roleDef = Get-AzRoleDefinition "Contoso On-Call"
    PS C:\> $roleDef.Actions.Add("Microsoft.ClassicCompute/virtualmachines/start/action")
    PS C:\> $roleDef.Description = "Can monitor all resources and start and restart virtual machines"
    PS C:\> $roleDef.AssignableScopes = @("/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx", "/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")
    PS C:\> Set-AzRoleDefinition -Role $roleDef
  description: ""
  summary: ""
- title: Create using JSON file
  code: |-
    PS C:\> Set-AzRoleDefinition -InputFile C:\Temp\roleDefinition.json
  description: ""
  summary: ""
parameters:
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: InputFile
  isRequired: true
  description: |+
    File name containing a single json role definition to be updated.
    Only include the properties that are to be updated in the JSON.
    Id property is Required.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Resources.Models.Authorization.PSRoleDefinition" data-throw-if-not-resolved="False" />
  name: Role
  isRequired: true
  description: |+
    Role definition object to be updated

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: Az.Resources.Set-AzRoleDefinition
name: Set-AzRoleDefinition
description: |-
  The Set-AzRoleDefinition cmdlet updates an existing custom role in Azure Role-Based Access Control.
  Provide the updated role definition as an input to the command as a JSON file or a PSRoleDefinition object.
  The role definition for the updated custom role MUST contain the Id and all other required properties of the role even if they are not updated: DisplayName, Description, Actions, AssignableScopes.
  NotActions, DataActions, NotDataActions are optional.
  Following is a sample updated role definition json for Set-AzRoleDefinition
  {
          "Id": "52a6cc13-ff92-47a8-a39b-2a8205c3087e",
          "Name": "Updated Role",
          "Description": "Can monitor all resources and start and restart virtual machines",
          "Actions":
          \[
              "*/read",
              "Microsoft.ClassicCompute/virtualmachines/restart/action",
              "Microsoft.ClassicCompute/virtualmachines/start/action"
          \],
          "NotActions":
          \[
              "*/write"
          \],
          "DataActions":
          \[
              "Microsoft.Storage/storageAccounts/blobServices/containers/blobs/read"
          \],
          "NotDataActions":
          \[
              "Microsoft.Storage/storageAccounts/blobServices/containers/blobs/write"
          \],
          "AssignableScopes": \["/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"\]
  }
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Resources.dll-Help.xml
  Module Name: Az.Resources
  ms.assetid: 115A7612-4856-47AE-AEE4-918350CD7009
  online version: https://docs.microsoft.com/en-us/powershell/module/az.resources/set-azroledefinition
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Resources/Resources/help/Set-AzRoleDefinition.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Resources/Resources/help/Set-AzRoleDefinition.md
