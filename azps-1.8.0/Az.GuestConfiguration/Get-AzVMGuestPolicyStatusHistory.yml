### YamlMime:PowershellCmdlet
summary: |-
  Gets guest configuration policy compliance status history for an initiative of type "Guest Configuration" that is assigned to a VM.
  An initiative is a policy of definition type "Initiative".
module: Az.GuestConfiguration
notes: ""
inputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.GuestConfiguration.Models.PolicyStatus" data-throw-if-not-resolved="False" />
  description: ""
syntaxes:
- >-
  Get-AzVMGuestPolicyStatusHistory [-ResourceGroupName] <String> [-VMName] <String> [-InitiativeName] <String>

   [-ShowOnlyChange] [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzVMGuestPolicyStatusHistory [-ResourceGroupName] <String> [-VMName] <String> [[-InitiativeId] <String>]

   [-ShowOnlyChange] [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: Example 1
  code: |-
    PS C:\> Get-AzVMGuestPolicyStatusHistory -ResourceGroupName "MyResourceGroupName" -VMName "MyVMName" -InitiativeId "/providers/Microsoft.Authorization/policySetDefinitions/3fa7cbf5-c0a4-4a59-85a5-cca4d996d5af" -ShowOnlyChange
  description: |-
    Gets compliance status history by initiative Id.
    ShowOnlyChange switch shows only historical status changes.
    Skips statuses that have not changed between two compliance checks.
  summary: ""
- title: Example 2
  code: |-
    PS C:\> Get-AzVMGuestPolicyStatusHistory -ResourceGroupName "MyResourceGroupName" -VMName "MyVMName" -InitiativeName "b5a822e0-ba98-4e54-9278-5d9833aa9b17" -ShowOnlyChange
  description: |-
    Gets compliance status history by initiative name.
    ShowOnlyChange switch shows only historical status changes.
    Skips statuses that have not changed between two compliance checks.
  summary: ""
- title: Example 3
  code: |-
    PS C:\> Get-AzVMGuestPolicyStatusHistory -ResourceGroupName "MyResourceGroupName" -VMName "MyVMName" -ShowOnlyChange
  description: |-
    Gets compliance status history for all guest configuration policies assigned to the VM.
    ShowOnlyChange switch shows only historical status changes.
    Skips statuses that have not changed between two compliance checks.
  summary: ""
- title: Example 4
  code: |-
    PS C:\> Get-AzVMGuestPolicyStatusHistory -ResourceGroupName "MyResourceGroupName" -VMName "MyVMName" -InitiativeId "/providers/Microsoft.Authorization/policySetDefinitions/3fa7cbf5-c0a4-4a59-85a5-cca4d996d5af"
  description: |-
    Gets compliance status history by initiative Id.
  summary: ""
- title: Example 5
  code: |-
    PS C:\> Get-AzVMGuestPolicyStatusHistory -ResourceGroupName "MyResourceGroupName" -VMName "MyVMName" -InitiativeName "b5a822e0-ba98-4e54-9278-5d9833aa9b17"
  description: |-
    Gets compliance status history by initiative name.
  summary: ""
- title: Example 6
  code: |-
    PS C:\> Get-AzVMGuestPolicyStatusHistory -ResourceGroupName "MyResourceGroupName" -VMName "MyVMName"
  description: |-
    Gets compliance status history for all guest configuration policies assigned to the VM.
  summary: ""
- title: Example 7
  code: |-
    PS C:\>$x = Get-AzVMGuestPolicyStatusHistory -ResourceGroupName "MyResourceGroupName" -VMName "MyVMName"
    PS C:\>$x[10].ReportId
    /subscriptions/4e6c6ed2-0bf6-41d7-9d21-a452c2cc7920/resourceGroups/MyResourceGroupName/providers/Microsoft.Compute/virtualMachines/MyVMName/providers/Microsoft.GuestConfiguration/guestConfigurationAssignments/MaximumPasswordAge/reports/c271f845-2c0a-4456-a441-e48fc332d0ac
    PS C:\> Get-AzVMGuestPolicyStatus -ReportId $x[10].ReportId
  description: |-
    Get guest configuration policy status by ReportId.
    The ReportId is the ReportId property that can be found in the results of Get-AzVMGuestPolicyStatusHistory. (please refer other examples)
  summary: ""
parameters:
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with Azure.

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: InitiativeId
  description: |+
    Definition Id of a policy where definition type is Initiative and category is Guest Configuration

  defaultValue: None
  position: "2"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: InitiativeName
  isRequired: true
  description: |+
    Name of a policy where definition type is Initiative and category is Guest Configuration

  defaultValue: None
  position: "2"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ResourceGroupName
  isRequired: true
  description: |+
    Resource group name.

  defaultValue: None
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: ShowOnlyChange
  description: |+
    Shows historical status changes only for guest configuration policies.
    Skips statuses that have not changed between two compliance status audit runs.

  defaultValue: "False"
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: VMName
  isRequired: true
  description: |+
    VM name.

  defaultValue: None
  position: "1"
  aliases: ""
  parameterValueGroup: ""
uid: Az.GuestConfiguration.Get-AzVMGuestPolicyStatusHistory
name: Get-AzVMGuestPolicyStatusHistory
description: |-
  The Get-AzVMGuestPolicyStatusHistory cmdlet gets compliance status history of guest configuration policies for an initiative of type "Guest Configuration" that is assigned to a VM.
  An initiative is a policy of definition type "Initiative".
  Use Get-AzVMGuestPolicyStatus cmdlet to get details of a single compliance status using ReportId that can be found in output of Get-AzVMGuestPolicyStatusHistory cmdlet.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.GuestConfiguration.dll-Help.xml
  Module Name: Az.GuestConfiguration
  online version: https://docs.microsoft.com/en-us/powershell/module/az.guestconfiguration/get-azvmguestpolicystatushistory
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/GuestConfiguration/GuestConfiguration/help/Get-AzVMGuestPolicyStatusHistory.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/GuestConfiguration/GuestConfiguration/help/Get-AzVMGuestPolicyStatusHistory.md
