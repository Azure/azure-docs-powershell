### YamlMime:PowershellCmdlet
summary: |-
  Lists directories and files for a path.
module: Az.Storage
notes: ""
inputs:
- name: <xref href="Microsoft.WindowsAzure.Storage.File.CloudFileShare" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.WindowsAzure.Storage.File.CloudFileDirectory" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.IStorageContext" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.WindowsAzure.Storage.File.CloudFile" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzStorageFileContent
  href: ./Get-AzStorageFileContent.yml
- text: New-AzStorageDirectory
  href: ./New-AzStorageDirectory.yml
- text: Remove-AzStorageDirectory
  href: ./Remove-AzStorageDirectory.yml
- text: Remove-AzStorageFile
  href: ./Remove-AzStorageFile.yml
- text: Set-AzStorageFileContent
  href: ./Set-AzStorageFileContent.yml
syntaxes:
- >-
  Get-AzStorageFile [-ShareName] <String> [[-Path] <String>] [-Context <IStorageContext>]

   [-ServerTimeoutPerRequest <Int32>] [-ClientTimeoutPerRequest <Int32>]

   [-DefaultProfile <IAzureContextContainer>] [-ConcurrentTaskCount <Int32>] [<CommonParameters>]
- >-
  Get-AzStorageFile [-Share] <CloudFileShare> [[-Path] <String>] [-ServerTimeoutPerRequest <Int32>]

   [-ClientTimeoutPerRequest <Int32>] [-DefaultProfile <IAzureContextContainer>] [-ConcurrentTaskCount <Int32>]

   [<CommonParameters>]
- >-
  Get-AzStorageFile [-Directory] <CloudFileDirectory> [[-Path] <String>] [-ServerTimeoutPerRequest <Int32>]

   [-ClientTimeoutPerRequest <Int32>] [-DefaultProfile <IAzureContextContainer>] [-ConcurrentTaskCount <Int32>]

   [<CommonParameters>]
examples:
- title: 'Example 1: List directories in a share'
  code: |-
    PS C:\>Get-AzStorageFile -ShareName "ContosoShare06" | where {$_.GetType().Name -eq "CloudFileDirectory"}
  description: |-
    This command lists only the directories in the share ContosoShare06.
    It first retrieves both files and directories, passes them to the **where** operator by using the pipeline operator, then discards any objects whose type is not "CloudFileDirectory".
  summary: ""
- title: 'Example 2: List a File Directory'
  code: |-
    PS C:\> Get-AzStorageFile -ShareName "ContosoShare06" -Path "ContosoWorkingFolder" | Get-AzStorageFile
  description: |-
    This command lists the files and folders in the directory ContosoWorkingFolder under the share ContosoShare06.
    It first gets the directory instance, and then pipelines it to the **Get-AzStorageFile** cmdlet to list the directory.
  summary: ""
parameters:
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Int32" data-throw-if-not-resolved="False" /><span>]</span>
  name: ClientTimeoutPerRequest
  description: |+
    Specifies the client side time-out interval, in seconds, for one service request.
    If the previous call fails within the specified interval, this cmdlet retries the request.
    If this cmdlet does not receive a successful response before the interval elapses, this cmdlet returns an error.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Int32" data-throw-if-not-resolved="False" /><span>]</span>
  name: ConcurrentTaskCount
  description: |+
    Specifies the maximum concurrent network calls.
    You can use this parameter to limit the concurrency to throttle local CPU and bandwidth usage by specifying the maximum number of concurrent network calls.
    The specified value is an absolute count and is not multiplied by the core count.
    This parameter can help mitigate network connection problems in low bandwidth environments, such as 100 kilobits per second.
    The default value is 10.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.IStorageContext" data-throw-if-not-resolved="False" />
  name: Context
  description: |+
    Specifies an Azure Storage context.
    To obtain a Storage context, use the New-AzStorageContext cmdlet.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with Azure.

  defaultValue: None
  position: Named
  aliases: AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="Microsoft.WindowsAzure.Storage.File.CloudFileDirectory" data-throw-if-not-resolved="False" />
  name: Directory
  isRequired: true
  description: |+
    Specifies a folder as a **CloudFileDirectory** object.
    This cmdlet gets the folder that this parameter specifies.
    To obtain a directory, use the New-AzStorageDirectory cmdlet.
    You can also use the **Get-AzStorageFile** cmdlet to obtain a directory.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Path
  description: |+
    Specifies the path of a folder.
    If you omit the *Path* parameter, **Get-AzStorageFile** lists the directories and files in the specified file share or directory.
    If you include the *Path* parameter, **Get-AzStorageFile** returns an instance of a directory or file in the specified path.

  defaultValue: None
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Int32" data-throw-if-not-resolved="False" /><span>]</span>
  name: ServerTimeoutPerRequest
  description: |+
    Specifies the service-side timeout interval, in seconds, for a request.
    If the specified interval elapses before the service processes the request, the Storage service returns an error.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.WindowsAzure.Storage.File.CloudFileShare" data-throw-if-not-resolved="False" />
  name: Share
  isRequired: true
  description: |+
    Specifies a **CloudFileShare** object.
    This cmdlet gets a file or directory from the file share that this parameter specifies.
    To obtain a **CloudFileShare** object, use the Get-AzStorageShare cmdlet.
    This object contains the Storage context.
    If you specify this parameter, do not specify the *Context* parameter.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ShareName
  isRequired: true
  description: |+
    Specifies the name of the file share.
    This cmdlet gets a file or directory from the file share that this parameter specifies.

  defaultValue: None
  position: "0"
  aliases: ""
  parameterValueGroup: ""
uid: Az.Storage.Get-AzStorageFile
name: Get-AzStorageFile
description: |-
  The **Get-AzStorageFile** cmdlet lists directories and files for the share or directory that you specify.
  Specify the *Path* parameter to get an instance of a directory or file in the specified path.
  This cmdlet returns **AzureStorageFile** and **AzureStorageDirectory** objects.
  You can use the **IsDirectory** property to distinguish between folders and files.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Storage.dll-Help.xml
  Module Name: Az.Storage
  ms.assetid: 38207027-FD76-45EE-8817-88599735C0B0
  online version: https://docs.microsoft.com/en-us/powershell/module/az.storage/get-azstoragefile
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Storage/Storage.Management/help/Get-AzStorageFile.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Storage/Storage.Management/help/Get-AzStorageFile.md
