### YamlMime:PowershellCmdlet
summary: |-
  Backs up a key in a key vault.
module: Az.KeyVault
notes: ""
inputs:
- name: <xref href="Microsoft.Azure.Commands.KeyVault.Models.PSKeyVaultKeyIdentityItem" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Add-AzKeyVaultKey
  href: ./Add-AzKeyVaultKey.yml
- text: Get-AzKeyVaultKey
  href: ./Get-AzKeyVaultKey.yml
- text: Remove-AzKeyVaultKey
  href: ./Remove-AzKeyVaultKey.yml
- text: Restore-AzKeyVaultKey
  href: ./Restore-AzKeyVaultKey.yml
syntaxes:
- >-
  Backup-AzKeyVaultKey [-VaultName] <String> [-Name] <String> [[-OutputFile] <String>] [-Force]

   [-DefaultProfile <IAzureContextContainer>] [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  Backup-AzKeyVaultKey [-InputObject] <PSKeyVaultKeyIdentityItem> [[-OutputFile] <String>] [-Force]

   [-DefaultProfile <IAzureContextContainer>] [-WhatIf] [-Confirm] [<CommonParameters>]
examples:
- title: 'Example 1: Back up a key with an automatically generated file name'
  code: |-
    PS C:\Users\username\> Backup-AzKeyVaultKey -VaultName 'MyKeyVault' -Name 'MyKey'

    C:\Users\username\mykeyvault-mykey-1527029447.01191
  description: |-
    This command retrieves the key named MyKey from the key vault named MyKeyVault and saves a backup of that key to a file that is automatically named for you, and displays the file name.
  summary: ""
- title: 'Example 2: Back up a key to a specified file name'
  code: |-
    PS C:\> Backup-AzKeyVaultKey -VaultName 'MyKeyVault' -Name 'MyKey' -OutputFile 'C:\Backup.blob'

    C:\Backup.blob
  description: |-
    This command retrieves the key named MyKey from the key vaultnamed MyKeyVault and saves a backup of that key to a file named Backup.blob.
  summary: ""
- title: 'Example 3: Back up a previously retrieved key to a specified file name, overwriting the destination file without prompting.'
  code: |-
    PS C:\> $key = Get-AzKeyVaultKey -VaultName 'MyKeyVault' -Name 'MyKey'
    PS C:\> Backup-AzKeyVaultKey -Key $key -OutputFile 'C:\Backup.blob' -Force

    C:\Backup.blob
  description: |-
    This command creates a backup of the key named $key.Name in the vault named $key.VaultName to a file named Backup.blob, silently overwriting the file if it exists already.
  summary: ""
parameters:
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: None
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Overwrite the given file if it exists

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.KeyVault.Models.PSKeyVaultKeyIdentityItem" data-throw-if-not-resolved="False" />
  name: InputObject
  isRequired: true
  description: |+
    Key bundle to back up, pipelined in from the output of a retrieval call.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: Key
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Name
  isRequired: true
  description: |+
    Specifies the name of the key to back up.

  defaultValue: None
  position: "1"
  aliases: KeyName
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: OutputFile
  description: |+
    Specifies the output file in which the backup blob is stored.
    If you do not specify this parameter, this cmdlet generates a file name for you.
    If you specify the name of an existing output file, the operation will not complete and returns an error message that the backup file already exists.

  defaultValue: None
  position: "2"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: VaultName
  isRequired: true
  description: |+
    Specifies the name of the key vault that contains the key to back up.

  defaultValue: None
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: None
  position: Named
  aliases: wi
  parameterValueGroup: ""
uid: Az.KeyVault.Backup-AzKeyVaultKey
name: Backup-AzKeyVaultKey
description: "The **Backup-AzKeyVaultKey** cmdlet backs up a specified key in a key vault by downloading it and storing it in a file.\r\nIf there are multiple versions of the key, all versions are included in the backup.\r\nBecause the downloaded content is encrypted, it cannot be used outside of Azure Key Vault.\r\nYou can restore a backed-up key to any key vault in the subscription that it was backed up from.\r\nTypical reasons to use this cmdlet are: \r\n- You want to escrow a copy of your key, so that you have an offline copy in case you accidentally delete your key in your key vault.\r\n \r\n- You created a key using Key Vault and now want to clone the key into a different Azure region, so that you can use it from all instances of your distributed application.\r\nUse the **Backup-AzKeyVaultKey** cmdlet to retrieve the key in encrypted format and then use the Restore-AzKeyVaultKey cmdlet and specify a key vault in the second region."
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.KeyVault.dll-Help.xml
  Module Name: Az.KeyVault
  ms.assetid: A82392AA-B12B-443E-8704-7CF5A9F8ED58
  online version: https://docs.microsoft.com/en-us/powershell/module/az.keyvault/backup-azkeyvaultkey
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/KeyVault/KeyVault/help/Backup-AzKeyVaultKey.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/KeyVault/KeyVault/help/Backup-AzKeyVaultKey.md
