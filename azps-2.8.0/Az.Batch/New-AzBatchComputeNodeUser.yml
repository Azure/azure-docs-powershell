### YamlMime:PowershellCmdlet
summary: |-
  Creates a user account on a Batch compute node.
module: Az.Batch
notes: ""
inputs:
- name: <xref href="Microsoft.Azure.Commands.Batch.Models.PSComputeNode" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.Batch.BatchAccountContext" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="System.Void" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzBatchAccountKeys
  href: ./Get-AzBatchAccountKey.yml
- text: Get-AzBatchComputeNode
  href: ./Get-AzBatchComputeNode.yml
- text: Remove-AzBatchComputeNodeUser
  href: ./Remove-AzBatchComputeNodeUser.yml
- text: Azure Batch Cmdlets
  href: /powershell/module/az.batch
syntaxes:
- >-
  New-AzBatchComputeNodeUser [-PoolId] <String> [-ComputeNodeId] <String> -Name <String> -Password <SecureString>

   [-ExpiryTime <DateTime>] [-IsAdmin] -BatchContext <BatchAccountContext>

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  New-AzBatchComputeNodeUser [[-ComputeNode] <PSComputeNode>] -Name <String> -Password <SecureString>

   [-ExpiryTime <DateTime>] [-IsAdmin] -BatchContext <BatchAccountContext>

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Create a user account that has administrative credentials'
  code: |-
    PS C:\>New-AzBatchComputeNodeUser -PoolId "MyPool01" -ComputeNodeId "ComputeNode01" -Name "TestUser" -Password "Password" -ExpiryTime ([DateTime]::Now.AddDays(7)) -IsAdmin -BatchContext $Context
  description: |-
    This command creates a user account on the compute node that has the ID ComputeNode01.
    The node is in the pool that has the ID MyPool01.
    The user name is TestUser, the password is Password, the account expires in seven days, and the account is has administrative credentials.
  summary: ""
- title: 'Example 2: Create a user account on a compute node by using the pipeline'
  code: |-
    PS C:\>Get-AzBatchComputeNode "MyPool01" -ComputeNodeId "ComputeNode01" -BatchContext $Context | New-AzBatchComputeNodeUser -Name "TestUser" -Password "Password" -BatchContext $Context
  description: |-
    This command gets the compute node named ComputeNode01 by using the **Get-AzBatchComputeNode** cmdlet.
    That node is in the pool that has the ID MyPool01.
    The command passes that compute node to the current cmdlet by using the pipeline operator.
    The command creates a user account that has the user name TestUser and the password Password.
  summary: ""
parameters:
- type: <xref href="Microsoft.Azure.Commands.Batch.BatchAccountContext" data-throw-if-not-resolved="False" />
  name: BatchContext
  isRequired: true
  description: |+
    Specifies the **BatchAccountContext** instance that this cmdlet uses to interact with the Batch service.
    If you use the Get-AzBatchAccount cmdlet to get your BatchAccountContext, then Azure Active Directory authentication will be used when interacting with the Batch service. To use shared key authentication instead, use the Get-AzBatchAccountKeys cmdlet to get a BatchAccountContext object with its access keys populated. When using shared key authentication, the primary access key is used by default. To change the key to use, set the BatchAccountContext.KeyInUse property.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Batch.Models.PSComputeNode" data-throw-if-not-resolved="False" />
  name: ComputeNode
  description: |+
    Specifies the compute node, as a **PSComputeNode** object, on which this cmdlet creates a user account.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ComputeNodeId
  isRequired: true
  description: |+
    Specifies the ID of the compute node on which this cmdlet creates a user account.

  defaultValue: None
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure.

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.DateTime" data-throw-if-not-resolved="False" />
  name: ExpiryTime
  description: |+
    Specifies the expiry time for the new user account.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: IsAdmin
  description: |+
    Indicates that the cmdlet creates a user account that has administrative credentials.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Name
  isRequired: true
  description: |+
    Specifies the name of the new local Windows account.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Security.SecureString" data-throw-if-not-resolved="False" />
  name: Password
  isRequired: true
  description: |+
    Specifies the user account password.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: PoolId
  isRequired: true
  description: |+
    Specifies the ID of the pool that contains the compute node on which to create the user account.

  defaultValue: None
  position: "0"
  aliases: ""
  parameterValueGroup: ""
uid: Az.Batch.New-AzBatchComputeNodeUser
name: New-AzBatchComputeNodeUser
description: |-
  The **New-AzBatchComputeNodeUser** cmdlet creates a user account on an Azure Batch compute node.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Batch.dll-Help.xml
  Module Name: Az.Batch
  ms.assetid: FE7689DE-4EC6-4C6B-94A4-D22C61CA569D
  online version: https://docs.microsoft.com/en-us/powershell/module/az.batch/new-azbatchcomputenodeuser
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Batch/Batch/help/New-AzBatchComputeNodeUser.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Batch/Batch/help/New-AzBatchComputeNodeUser.md
