### YamlMime:PowershellCmdlet
summary: |-
  Adds information to the unattended Windows Setup answer file.
module: Az.Compute
notes: ""
inputs:
- name: <xref href="Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="" data-throw-if-not-resolved="False" /><span>[</span><xref href="Microsoft.Azure.Management.Compute.Models.SettingNames, Microsoft.Azure.Management.Compute, Version=23.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" data-throw-if-not-resolved="False" /><span>]</span><span>]</span>
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzAvailabilitySet
  href: ./Get-AzAvailabilitySet.yml
- text: Set-AzVMOperatingSystem
  href: ./Set-AzVMOperatingSystem.yml
- text: New-AzVMConfig
  href: ./New-AzVMConfig.yml
syntaxes:
- >-
  Add-AzVMAdditionalUnattendContent [-VM] <PSVirtualMachine> [[-Content] <String>]

   [[-SettingName] <SettingNames>] [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Add content to unattend.xml'
  code: |-
    PS C:\> $AvailabilitySet = Get-AzAvailabilitySet -ResourceGroupName "ResourceGroup11" -Name "AvailabilitySet03"
    PS C:\> $VirtualMachine = New-AzVMConfig -VMName "VirtualMachine07" -VMSize "Standard_A1" -AvailabilitySetID $AvailabilitySet.Id 
    PS C:\> $Credential = Get-Credential
    PS C:\> $VirtualMachine = Set-AzVMOperatingSystem -VM $VirtualMachine  -Windows -ComputerName "Contoso26" -Credential $Credential
    PS C:\> $AucContent = "<UserAccounts><AdministratorPassword><Value>" + "Password" + "</Value><PlainText>true</PlainText></AdministratorPassword></UserAccounts>";
    PS C:\> $VirtualMachine = Add-AzVMAdditionalUnattendContent -VM $VirtualMachine -Content $AucContent -SettingName "AutoLogon"
  description: |-
    The first command gets the availability set named AvailabilitySet03 in the resource group named ResourceGroup11, and then stores that object in the $AvailabilitySet variable.
    The second command creates a virtual machine object, and then stores it in the $VirtualMachine variable.
    The command assigns a name and size to the virtual machine.
    The virtual machine belongs to the availability set stored in $AvailabilitySet.
    The third command creates a credential object by using the Get-Credential cmdlet, and then stores the result in the $Credential variable.
    The command prompts you for a user name and password.
    For more information, type `Get-Help Get-Credential`.
    The fourth command uses the **Set-AzVMOperatingSystem** cmdlet to configure the virtual machine stored in $VirtualMachine.
    The fifth command assigns content to the $AucContent variable.
    The content includes a password.
    The final command adds the content stored in $AucContent to the unattend.xml file.
  summary: ""
parameters:
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Content
  description: |+
    Specifies base 64 encoded XML formatted content.
    This cmdlet adds the content to the unattend.xml file.
    The XML content must be less than 4 KB and must include the root element for the setting or feature that this cmdlet inserts.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure.

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="Microsoft.Azure.Management.Compute.Models.SettingNames" data-throw-if-not-resolved="False" /><span>]</span>
  name: SettingName
  description: |+
    Specifies the name of the setting to which the content applies.
    The acceptable values for this parameter are:
    - FirstLogonCommands
    - AutoLogon

  defaultValue: None
  pipelineInput: true
  position: "2"
  aliases: ""
  parameterValueGroup: AutoLogon, FirstLogonCommands
- type: <xref href="Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine" data-throw-if-not-resolved="False" />
  name: VM
  isRequired: true
  description: |+
    Specifies the virtual machine object that this cmdlet modifies.
    To obtain a virtual machine object, use the [Get-AzVM](./Get-AzVM.yml) cmdlet.
    Create a virtual machine object by using the [New-AzVMConfig](./New-AzVMConfig.yml) cmdlet.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: VMProfile
  parameterValueGroup: ""
uid: Az.Compute.Add-AzVMAdditionalUnattendContent
name: Add-AzVMAdditionalUnattendContent
description: |-
  The **Add-AzVMAdditionalUnattendContent** cmdlet adds information to the unattended Windows Setup answer file.
  Specify additional base 64 encoded .xml formatted information that this cmdlet adds to the unattend.xml file.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Compute.dll-Help.xml
  Module Name: Az.Compute
  ms.assetid: 50B64FFE-8277-4DAA-805A-271123B35355
  online version: https://docs.microsoft.com/en-us/powershell/module/az.compute/add-azvmadditionalunattendcontent
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Compute/Compute/help/Add-AzVMAdditionalUnattendContent.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Compute/Compute/help/Add-AzVMAdditionalUnattendContent.md
