### YamlMime:PowershellCmdlet
summary: |-
  Creates an account-level SAS token.
module: Az.Storage
notes: ""
inputs:
- name: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.IStorageContext" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: New-AzStorageBlobSASToken
  href: ./New-AzStorageBlobSASToken.yml
- text: New-AzStorageContainerSASToken
  href: ./New-AzStorageContainerSASToken.yml
- text: New-AzStorageFileSASToken
  href: ./New-AzStorageFileSASToken.yml
- text: New-AzStorageQueueSASToken
  href: ./New-AzStorageQueueSASToken.yml
- text: New-AzStorageShareSASToken
  href: ./New-AzStorageShareSASToken.yml
- text: New-AzStorageTableSASToken
  href: ./New-AzStorageTableSASToken.yml
syntaxes:
- >-
  New-AzStorageAccountSASToken -Service <SharedAccessAccountServices>

   -ResourceType <SharedAccessAccountResourceTypes> [-Permission <String>] [-Protocol <SharedAccessProtocol>]

   [-IPAddressOrRange <String>] [-StartTime <DateTime>] [-ExpiryTime <DateTime>] [-Context <IStorageContext>]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Create an account-level SAS token with full permission'
  code: |-
    PS C:\> New-AzStorageAccountSASToken -Service Blob,File,Table,Queue -ResourceType Service,Container,Object -Permission "racwdlup"
  description: |-
    This command creates an account-level SAS token with full permission.
  summary: ""
- title: 'Example 2: Create an account-level SAS token for a range of IP addresses'
  code: |-
    PS C:\> New-AzStorageAccountSASToken -Service Blob,File,Table,Queue -ResourceType Service,Container,Object -Permission "racwdlup" -Protocol HttpsOnly -IPAddressOrRange 168.1.5.60-168.1.5.70
  description: |-
    This command creates an account-level SAS token for HTTPS-only requests from the specified range of IP addresses.
  summary: ""
parameters:
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.IStorageContext" data-throw-if-not-resolved="False" />
  name: Context
  description: |+
    Specifies the Azure storage context.
    You can use the New-AzStorageContext cmdlet to get an **AzureStorageContext** object.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with Azure.

  defaultValue: None
  position: Named
  aliases: AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.DateTime" data-throw-if-not-resolved="False" /><span>]</span>
  name: ExpiryTime
  description: |+
    Specifies the time at which the shared access signature becomes invalid.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: IPAddressOrRange
  description: |+
    Specifies the IP address or range of IP addresses from which to accept requests, such as 168.1.5.65 or 168.1.5.60-168.1.5.70.
    The range is inclusive.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Permission
  description: |+
    Specifies the permissions for Storage account.
    Permissions are valid only if they match the specified resource type.
    It is important to note that this is a string, like `rwd` (for Read, Write and Delete).
    For more information about acceptable permission values, see Constructing an Account SAS https://go.microsoft.com/fwlink/?LinkId=799514

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="Microsoft.Azure.Storage.SharedAccessProtocol" data-throw-if-not-resolved="False" /><span>]</span>
  name: Protocol
  description: |+
    Specifies the protocol permitted for a request made with the account SAS.
    The acceptable values for this parameter are:
    - HttpsOnly
    - HttpsOrHttp
    The default value is HttpsOrHttp.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: HttpsOnly, HttpsOrHttp
- type: <xref href="Microsoft.Azure.Storage.SharedAccessAccountResourceTypes" data-throw-if-not-resolved="False" />
  name: ResourceType
  isRequired: true
  description: |+
    Specifies the resource types that are available with the SAS token.
    The acceptable values for this parameter are:
    - None
    - Service
    - Container
    - Object

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: None, Service, Container, Object
- type: <xref href="Microsoft.Azure.Storage.SharedAccessAccountServices" data-throw-if-not-resolved="False" />
  name: Service
  isRequired: true
  description: |+
    Specifies the service.
    The acceptable values for this parameter are:
    - None
    - Blob
    - File
    - Queue
    - Table

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: None, Blob, File, Queue, Table
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.DateTime" data-throw-if-not-resolved="False" /><span>]</span>
  name: StartTime
  description: |+
    Specifies the time, as a **DateTime** object, at which the SAS becomes valid.
    To get a **DateTime** object, use the Get-Date cmdlet.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: Az.Storage.New-AzStorageAccountSASToken
name: New-AzStorageAccountSASToken
description: |-
  The **New-AzStorageSASToken** cmdlet creates an account-level shared access signature (SAS) token for an Azure Storage account.
  You can use the SAS token to delegate permissions for multiple services, or to delegate permissions for services not available with an object-level SAS token.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Storage.dll-Help.xml
  Module Name: Az.Storage
  ms.assetid: BCCBB05B-A5D7-4796-BE55-6BE5E18E07FC
  online version: https://docs.microsoft.com/en-us/powershell/module/az.storage/new-azstorageaccountsastoken
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Storage/Storage.Management/help/New-AzStorageAccountSASToken.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Storage/Storage.Management/help/New-AzStorageAccountSASToken.md
