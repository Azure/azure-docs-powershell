### YamlMime:PowershellCmdlet
summary: |-
  Gets the current aggregared point to site connections health information from P2SVpnGateway.
module: Az.Network
notes: ""
inputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: |-
    Microsoft.Azure.Commands.Network.Models.PSP2SVpnGateway
outputs:
- name: <xref href="Microsoft.Azure.Commands.Network.Models.PSP2SVpnGateway" data-throw-if-not-resolved="False" />
  description: ""
syntaxes:
- >-
  Get-AzP2sVpnGatewayConnectionHealth [-Name <String>] -ResourceGroupName <String>

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzP2sVpnGatewayConnectionHealth -InputObject <PSP2SVpnGateway> [-DefaultProfile <IAzureContextContainer>]

   [<CommonParameters>]
- >-
  Get-AzP2sVpnGatewayConnectionHealth -ResourceId <String> [-DefaultProfile <IAzureContextContainer>]

   [<CommonParameters>]
examples:
- title: Example 1
  code: |-
    PS C:\> Get-AzP2sVpnGatewayConnectionHealth -ResourceGroupName P2SCortexGATesting -Name 683482ade8564515aed4b8448c9757ea-westus-gw

    ResourceGroupName              : P2SCortexGATesting
    Name                           : 683482ade8564515aed4b8448c9757ea-westus-gw
    Id                             : /subscriptions/b1f1deed-af60-4bab-9223-65d340462e24/resourceGroups/P2SCortexGATesting/providers/Microsoft.Network/p2sVpnGateways/683482ade8564515a
                                     ed4b8448c9757ea-westus-gw
    Location                       : westus
    VpnGatewayScaleUnit            : 1
    VirtualHub                     : /subscriptions/b1f1deed-af60-4bab-9223-65d340462e24/resourceGroups/P2SCortexGATesting/providers/Microsoft.Network/virtualHubs/WestUsVirtualHub
    VpnServerConfiguration         : /subscriptions/b1f1deed-af60-4bab-9223-65d340462e24/resourceGroups/P2SCortexGATesting/providers/Microsoft.Network/vpnServerConfigurations/WestUsConfig
    VpnServerConfigurationLocation :
    VpnClientConnectionHealth      : { 
    				  "VpnClientConnectionsCount": 2,
     			          "AllocatedIpAddresses": { "192.168.2.1", "192.168.2.2" },
     			          "TotalIngressBytesTransferred": 100,
     			          "TotalEgressBytesTransferred": 200
    				 }
    Type                           : Microsoft.Network/p2sVpnGateways
    ProvisioningState              : Succeeded
    P2SConnectionConfigurations    : [
                                       {
                                         "ProvisioningState": "Succeeded",
                                         "VpnClientAddressPool": {
                                           "AddressPrefixes": [
                                             "192.168.2.0/24"
                                           ]
                                         },
                                         "Name": "P2SConnectionConfigDefault",
                                         "Etag": "W/\"4b96e6a2-b4d8-46b3-9210-76d40f359bef\"",
                                         "Id": "/subscriptions/b1f1deed-af60-4bab-9223-65d340462e24/resourceGroups/P2SCortexGATesting/providers/Microsoft.Network/p2sVpnGateways/683482
                                     ade8564515aed4b8448c9757ea-westus-gw/p2sConnectionConfigurations/P2SConnectionConfigDefault"
                                       }
                                     ]
  description: |-
    The **Get-AzP2sVpnGatewayConnectionHealth** cmdlet enables you to get the current aggregated health of point to site connections from P2SVpnGateway. Above command let output health shows that number of point to site clients connected to P2SVpnGateway are 2. Total ingress and egress bytes transferred through P2SVpnGateway are 100 and 200 respectively. Allocated ip addresses for connected point to site clients are "192.168.2.1", "192.168.2.2".
  summary: ""
parameters:
- type: <xref href="IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with Azure.

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="PSP2SVpnGateway" data-throw-if-not-resolved="False" />
  name: InputObject
  isRequired: true
  description: |+
    The p2s vpn gateway object to be modified

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: P2SVpnGateway
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Name
  description: |+
    The resource name.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ResourceName
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ResourceGroupName
  isRequired: true
  description: |+
    The resource group name.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ResourceId
  isRequired: true
  description: |+
    The Azure resource ID of the P2SVpnGateway to be modified.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: Az.Network.Get-AzP2sVpnGatewayConnectionHealth
name: Get-AzP2sVpnGatewayConnectionHealth
description: |-
  The **Get-AzP2sVpnGatewayConnectionHealth** cmdlet enables you to get the current aggregated health of point to site connections from P2SVpnGateway. Aggregated health shows number of point to site clients connected to P2SVpnGateway, total ingress and egress bytes transferred through P2SVpnGateway and allocated ip addresses for connected point to site clients.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Network.dll-Help.xml
  Module Name: Az.Network
  online version: https://docs.microsoft.com/en-us/powershell/module/az.network/get-azp2svpngatewayconnectionhealth
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Network/Network/help/Get-AzP2sVpnGatewayConnectionHealth.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Network/Network/help/Get-AzP2sVpnGatewayConnectionHealth.md
