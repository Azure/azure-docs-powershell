### YamlMime:PowershellCmdlet
summary: |-
  Modifies a policy assignment.
module: Az.Resources
notes: ""
inputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  description: ""
outputs:
- name: <xref href="System.Management.Automation.PSObject" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzPolicyAssignment
  href: ./Get-AzPolicyAssignment.yml
- text: New-AzPolicyAssignment
  href: ./New-AzPolicyAssignment.yml
- text: Remove-AzPolicyAssignment
  href: ./Remove-AzPolicyAssignment.yml
syntaxes:
- >-
  Set-AzPolicyAssignment -Name <String> [-Scope <String>] [-NotScope <String[]>] [-DisplayName <String>]

   [-Description <String>] [-Metadata <String>] [-AssignIdentity] [-Location <String>]

   [-EnforcementMode <PolicyAssignmentEnforcementMode>] [-ApiVersion <String>] [-Pre]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Set-AzPolicyAssignment -Name <String> [-Scope <String>] [-NotScope <String[]>] [-DisplayName <String>]

   [-Description <String>] [-Metadata <String>] -PolicyParameterObject <Hashtable> [-AssignIdentity]

   [-Location <String>] [-EnforcementMode <PolicyAssignmentEnforcementMode>] [-ApiVersion <String>] [-Pre]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Set-AzPolicyAssignment -Name <String> [-Scope <String>] [-NotScope <String[]>] [-DisplayName <String>]

   [-Description <String>] [-Metadata <String>] -PolicyParameter <String> [-AssignIdentity] [-Location <String>]

   [-EnforcementMode <PolicyAssignmentEnforcementMode>] [-ApiVersion <String>] [-Pre]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Set-AzPolicyAssignment [-NotScope <String[]>] -Id <String> [-DisplayName <String>] [-Description <String>]

   [-Metadata <String>] [-AssignIdentity] [-Location <String>]

   [-EnforcementMode <PolicyAssignmentEnforcementMode>] [-ApiVersion <String>] [-Pre]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Set-AzPolicyAssignment [-NotScope <String[]>] -Id <String> [-DisplayName <String>] [-Description <String>]

   [-Metadata <String>] -PolicyParameterObject <Hashtable> [-AssignIdentity] [-Location <String>]

   [-EnforcementMode <PolicyAssignmentEnforcementMode>] [-ApiVersion <String>] [-Pre]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Set-AzPolicyAssignment [-NotScope <String[]>] -Id <String> [-DisplayName <String>] [-Description <String>]

   [-Metadata <String>] -PolicyParameter <String> [-AssignIdentity] [-Location <String>]

   [-EnforcementMode <PolicyAssignmentEnforcementMode>] [-ApiVersion <String>] [-Pre]

   [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Update the display name'
  code: |-
    PS C:\> $ResourceGroup = Get-AzResourceGroup -Name 'ResourceGroup11'
    PS C:\> $PolicyAssignment = Get-AzPolicyAssignment -Name 'PolicyAssignment' -Scope $ResourceGroup.ResourceId
    PS C:\> Set-AzPolicyAssignment -Id $PolicyAssignment.ResourceId -DisplayName 'Do not allow VM creation'
  description: |-
    The first command gets a resource group named ResourceGroup11 by using the Get-AzResourceGroup cmdlet.
    The command stores that object in the $ResourceGroup variable.
    The second command gets the policy assignment named PolicyAssignment by using the Get-AzPolicyAssignment cmdlet.
    The command stores that object in the $PolicyAssignment variable.
    The final command updates the display name on the policy assignment on the resource group identified by the **ResourceId** property of $ResourceGroup.
  summary: ""
- title: 'Example 2: Add a managed identity to the policy assignment'
  code: |-
    PS C:\> $PolicyAssignment = Get-AzPolicyAssignment -Name 'PolicyAssignment'
    PS C:\> Set-AzPolicyAssignment -Id $PolicyAssignment.ResourceId -AssignIdentity -Location 'westus'
  description: |-
    The first command gets the policy assignment named PolicyAssignment from the current subscription by using the Get-AzPolicyAssignment cmdlet.
    The command stores that object in the $PolicyAssignment variable.
    The final command assigns a managed identity to the policy assignment.
  summary: ""
- title: 'Example 3: Update policy assignment parameters with new policy parameter object'
  code: |-
    PS C:\> $Locations = Get-AzLocation | where {($_.displayname -like 'france*') -or ($_.displayname -like 'uk*')}
    PS C:\> $AllowedLocations = @{'listOfAllowedLocations'=($Locations.location)}
    PS C:\> $PolicyAssignment = Get-AzPolicyAssignment -Name 'PolicyAssignment'
    PS C:\> Set-AzPolicyAssignment -Id $PolicyAssignment.ResourceId -PolicyParameterObject $AllowedLocations
  description: |-
    The first and second commands create an object containing all Azure regions whose names start with "france" or "uk".
    The second command stores that object in the $AllowedLocations variable.
    The third command gets the policy assignment named 'PolicyAssignment'
    The command stores that object in the $PolicyAssignment variable.
    The final command updates the parameter values on the policy assignment named PolicyAssignment.
  summary: ""
- title: 'Example 4: Update policy assignment parameters with policy parameter file'
  code: |-
    {
        "listOfAllowedLocations":  {
          "value": [
            "uksouth",
            "ukwest",
            "francecentral",
            "francesouth"
          ]
        }
    }

    PS C:\> Set-AzPolicyAssignment -Name 'PolicyAssignment' -PolicyParameter .\AllowedLocations.json
  description: |-
    The command updates the policy assignment named 'PolicyAssignment' using the policy parameter file AllowedLocations.json from the local working directory.
  summary: |+
    Create a file called _AllowedLocations.json_ in the local working directory with the following content.

- title: 'Example 5: Update an enforcementMode'
  code: |-
    PS C:\> $ResourceGroup = Get-AzResourceGroup -Name 'ResourceGroup11'
    PS C:\> $PolicyAssignment = Get-AzPolicyAssignment -Name 'PolicyAssignment' -Scope $ResourceGroup.ResourceId
    PS C:\> Set-AzPolicyAssignment -Id $PolicyAssignment.ResourceId -EnforcementMode Default
  description: |-
    The first command gets a resource group named ResourceGroup11 by using the Get-AzResourceGroup cmdlet.
    The command stores that object in the $ResourceGroup variable.
    The second command gets the policy assignment named PolicyAssignment by using the Get-AzPolicyAssignment cmdlet.
    The command stores that object in the $PolicyAssignment variable.
    The final command updates the enforcementMode property on the policy assignment on the resource group identified by the **ResourceId** property of $ResourceGroup.
  summary: ""
parameters:
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ApiVersion
  description: |+
    Specifies the version of the resource provider API to use.
    If you do not specify a version, this cmdlet uses the latest available version.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: AssignIdentity
  description: |+
    Generate and assign an Azure Active Directory Identity for this policy assignment. The identity will be used when executing deployments for 'deployIfNotExists' policies. Location is required when assigning an identity.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Description
  description: |+
    The description for policy assignment

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: DisplayName
  description: |+
    Specifies a new display name for the policy assignment.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="Microsoft.Azure.Commands.ResourceManager.Cmdlets.Entities.Policy.PolicyAssignmentEnforcementMode" data-throw-if-not-resolved="False" /><span>]</span>
  name: EnforcementMode
  description: |+
    The enforcement mode for policy assignment. Currently, valid values are Default, DoNotEnforce.

  defaultValue: Default
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: Default, DoNotEnforce
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Id
  isRequired: true
  description: |+
    Specifies the fully qualified resource ID for the policy assignment that this cmdlet modifies.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ResourceId
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Location
  description: |+
    The location of the policy assignment's resource identity. This is required when the -AssignIdentity switch is used.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Metadata
  description: |+
    The updated metadata for the policy assignment. This can either be a path to a file name containing the metadata, or the metadata as a string.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Name
  isRequired: true
  description: |+
    Specifies the name of the policy assignment that this cmdlet modifies.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: NotScope
  description: |+
    The policy assignment not scopes.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: PolicyParameter
  isRequired: true
  description: |+
    The new policy parameters file path or string for the policy assignment.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Collections.Hashtable" data-throw-if-not-resolved="False" />
  name: PolicyParameterObject
  isRequired: true
  description: |+
    The new policy parameters object for the policy assignment.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: Pre
  description: |+
    Indicates that this cmdlet considers pre-release API versions when it automatically determines which version to use.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Scope
  description: |+
    Specifies the scope at which the policy is applied.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: Az.Resources.Set-AzPolicyAssignment
name: Set-AzPolicyAssignment
description: |-
  The **Set-AzPolicyAssignment** cmdlet modifies a policy assignment.
  Specify an assignment by ID or by name and scope.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.ResourceManager.dll-Help.xml
  Module Name: Az.Resources
  ms.assetid: C3B2C33F-8BD4-4E31-9450-EF6A3A6A5325
  online version: https://docs.microsoft.com/en-us/powershell/module/az.resources/set-azpolicyassignment
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Resources/Resources/help/Set-AzPolicyAssignment.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Resources/Resources/help/Set-AzPolicyAssignment.md
