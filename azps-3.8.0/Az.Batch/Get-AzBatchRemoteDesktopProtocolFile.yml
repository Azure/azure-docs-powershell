### YamlMime:PowershellCmdlet
summary: |-
  Gets an RDP file from a compute node.
module: Az.Batch
notes: ""
inputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.Batch.Models.PSComputeNode" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="Microsoft.Azure.Commands.Batch.BatchAccountContext" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="System.Void" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzBatchAccountKey
  href: ./Get-AzBatchAccountKey.yml
- text: Get-AzBatchComputeNode
  href: ./Get-AzBatchComputeNode.yml
- text: Azure Batch Cmdlets
  href: /powershell/module/az.batch
syntaxes:
- >-
  Get-AzBatchRemoteDesktopProtocolFile [-PoolId] <String> [-ComputeNodeId] <String> -DestinationPath <String>

   -BatchContext <BatchAccountContext> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzBatchRemoteDesktopProtocolFile [-PoolId] <String> [-ComputeNodeId] <String> -DestinationStream <Stream>

   -BatchContext <BatchAccountContext> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzBatchRemoteDesktopProtocolFile [[-ComputeNode] <PSComputeNode>] -DestinationPath <String>

   -BatchContext <BatchAccountContext> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
- >-
  Get-AzBatchRemoteDesktopProtocolFile [[-ComputeNode] <PSComputeNode>] -DestinationStream <Stream>

   -BatchContext <BatchAccountContext> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
examples:
- title: 'Example 1: Get an RDP file from a specified compute node and save the file'
  code: |-
    PS C:\>Get-AzBatchRemoteDesktopProtocolFile -PoolId "Pool06" -ComputeNodeId "ComputeNode01" -DestinationPath "C:\PowerShell\ComputeNode01.rdp" -BatchContext $Context
  description: |-
    This command gets an RDP file from the compute node that has the ID ComputeNode01 in the pool that has the ID Pool06.
    The command saves the .rdp file as C:\PowerShell\MyComputeNode.rdp.
    Use the Get-AzBatchAccountKey cmdlet to assign a context to the $Context variable.
  summary: ""
- title: 'Example 2: Get an RDP file from a compute node and save the file by using the pipeline'
  code: |-
    PS C:\>Get-AzBatchComputeNode -PoolId "Pool06" -Id "ComputeNode02" -BatchContext $Context | Get-AzBatchRemoteDesktopProtocolFile -DestinationPath "C:\PowerShell\MyComputeNode02.rdp" -BatchContext $Context
  description: |-
    This command gets the compute node that has the ID ComputeNode02 in the pool that has the ID Pool06.
    The command passes that compute node to the current cmdlet by using the pipeline operator.
    The current cmdlet gets an .rpd file from the compute node, and then saves the contents as a file that is named C:\PowerShell\MyComputeNode02.rdp.
  summary: ""
- title: 'Example 3: Get a RDP file from a specified compute node and direct it to a stream'
  code: |-
    PS C:\>$Stream = New-Object -TypeName "System.IO.MemoryStream"
    PS C:\> Get-AzBatchRemoteDesktopProtocolFile "Pool06" -ComputeNodeId "ComputeNode03" -DestinationStream $Stream -BatchContext $Context
  description: |-
    The first command creates a stream by using the New-Object cmdlet, and then stores it in the $Stream variable.
    The second command gets an .rdp file from the compute node that has the ID ComputeNode03 in the pool that has the ID Pool06.
    The command directs file contents to the stream in $Stream.
  summary: ""
parameters:
- type: <xref href="Microsoft.Azure.Commands.Batch.BatchAccountContext" data-throw-if-not-resolved="False" />
  name: BatchContext
  isRequired: true
  description: |+
    Specifies the **BatchAccountContext** instance that this cmdlet uses to interact with the Batch service.
    If you use the Get-AzBatchAccount cmdlet to get your BatchAccountContext, then Azure Active Directory authentication will be used when interacting with the Batch service. To use shared key authentication instead, use the Get-AzBatchAccountKey cmdlet to get a BatchAccountContext object with its access keys populated. When using shared key authentication, the primary access key is used by default. To change the key to use, set the BatchAccountContext.KeyInUse property.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Batch.Models.PSComputeNode" data-throw-if-not-resolved="False" />
  name: ComputeNode
  description: |+
    Specifies a compute node, as a **PSComputeNode** object, to which the .rdp file points.
    To obtain a compute node object, use the Get-AzBatchComputeNode cmdlet.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: ComputeNodeId
  isRequired: true
  description: |+
    Specifies the ID of the compute node to which the .rdp file points.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure.

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: DestinationPath
  isRequired: true
  description: |+
    Specifies the file path where this cmdlet saves the .rdp file.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.IO.Stream" data-throw-if-not-resolved="False" />
  name: DestinationStream
  isRequired: true
  description: |+
    Specifies the stream into which this cmdlet directs the RDP data.
    This cmdlet does not close or rewind this stream.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: PoolId
  isRequired: true
  description: |+
    Specifies the ID of the pool that contains the compute node from which this cmdlet gets an .rdp file.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
uid: Az.Batch.Get-AzBatchRemoteDesktopProtocolFile
name: Get-AzBatchRemoteDesktopProtocolFile
description: |-
  The **Get-AzBatchRemoteDesktopProtocolFile** cmdlet gets a Remote Desktop Protocol (RDP) file from a compute node and saves it as a file or to a user supplied stream.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.Batch.dll-Help.xml
  Module Name: Az.Batch
  ms.assetid: D077DB50-12BC-45AB-8EAC-57810DA83035
  online version: https://docs.microsoft.com/en-us/powershell/module/az.batch/get-azbatchremotedesktopprotocolfile
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Batch/Batch/help/Get-AzBatchRemoteDesktopProtocolFile.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/Batch/Batch/help/Get-AzBatchRemoteDesktopProtocolFile.md
