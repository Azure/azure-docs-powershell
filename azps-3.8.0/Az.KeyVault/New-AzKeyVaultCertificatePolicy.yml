### YamlMime:PowershellCmdlet
summary: |-
  Creates an in-memory certificate policy object.
module: Az.KeyVault
notes: ""
inputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.Collections.Generic.List`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e" data-throw-if-not-resolved="False" /><span>]</span><span>]</span>
  description: ""
- name: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e" data-throw-if-not-resolved="False" /><span>]</span><span>]</span>
  description: ""
- name: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  description: ""
- name: <xref href="System.Collections.Generic.List`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Security.Cryptography.X509Certificates.X509KeyUsageFlags, System.Security.Cryptography.X509Certificates, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" data-throw-if-not-resolved="False" /><span>]</span><span>]</span>
  description: ""
outputs:
- name: <xref href="Microsoft.Azure.Commands.KeyVault.Models.PSKeyVaultCertificatePolicy" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AzKeyVaultCertificatePolicy
  href: ./Get-AzKeyVaultCertificatePolicy.yml
- text: Set-AzKeyVaultCertificatePolicy
  href: ./Set-AzKeyVaultCertificatePolicy.yml
syntaxes:
- >-
  New-AzKeyVaultCertificatePolicy [-IssuerName] <String> [-SubjectName] <String>

   [-RenewAtNumberOfDaysBeforeExpiry <Int32>] [-RenewAtPercentageLifetime <Int32>] [-SecretContentType <String>]

   [-ReuseKeyOnRenewal] [-Disabled]

   [-KeyUsage <System.Collections.Generic.List`1[System.Security.Cryptography.X509Certificates.X509KeyUsageFlags]>]

   [-Ekus <System.Collections.Generic.List`1[System.String]>] [-ValidityInMonths <Int32>]

   [-CertificateType <String>] [-EmailAtNumberOfDaysBeforeExpiry <Int32>] [-EmailAtPercentageLifetime <Int32>]

   [-KeyType <String>] [-KeySize <Int32>] [-KeyNotExportable] [-CertificateTransparency <Boolean>]

   [-Curve <String>] [-DefaultProfile <IAzureContextContainer>] [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  New-AzKeyVaultCertificatePolicy [-IssuerName] <String> [[-SubjectName] <String>]

   [-DnsName] <System.Collections.Generic.List`1[System.String]> [-RenewAtNumberOfDaysBeforeExpiry <Int32>]

   [-RenewAtPercentageLifetime <Int32>] [-SecretContentType <String>] [-ReuseKeyOnRenewal] [-Disabled]

   [-KeyUsage <System.Collections.Generic.List`1[System.Security.Cryptography.X509Certificates.X509KeyUsageFlags]>]

   [-Ekus <System.Collections.Generic.List`1[System.String]>] [-ValidityInMonths <Int32>]

   [-CertificateType <String>] [-EmailAtNumberOfDaysBeforeExpiry <Int32>] [-EmailAtPercentageLifetime <Int32>]

   [-KeyType <String>] [-KeySize <Int32>] [-KeyNotExportable] [-CertificateTransparency <Boolean>]

   [-Curve <String>] [-DefaultProfile <IAzureContextContainer>] [-WhatIf] [-Confirm] [<CommonParameters>]
examples:
- title: 'Example 1: Create a certificate policy'
  code: |-
    PS C:\> New-AzKeyVaultCertificatePolicy -SecretContentType "application/x-pkcs12" -SubjectName "CN=contoso.com" -IssuerName "Self" -ValidityInMonths 6 -ReuseKeyOnRenewal

    SecretContentType               : application/x-pkcs12
    Kty                             :
    KeySize                         : 2048
    Curve                           :
    Exportable                      :
    ReuseKeyOnRenewal               : True
    SubjectName                     : CN=contoso.com
    DnsNames                        :
    KeyUsage                        :
    Ekus                            :
    ValidityInMonths                : 6
    IssuerName                      : Self
    CertificateType                 :
    RenewAtNumberOfDaysBeforeExpiry :
    RenewAtPercentageLifetime       :
    EmailAtNumberOfDaysBeforeExpiry :
    EmailAtPercentageLifetime       :
    CertificateTransparency         :
    Enabled                         : True
    Created                         :
    Updated                         :
  description: |-
    This command creates a certificate policy that is valid for six months and reuses the key to renew the certificate.
  summary: ""
parameters:
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Boolean" data-throw-if-not-resolved="False" /><span>]</span>
  name: CertificateTransparency
  description: |+
    Indicates whether certificate transparency is enabled for this certificate/issuer; if not specified, the default is 'true'

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: CertificateType
  description: |+
    Specifies the type of certificate to the issuer.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: None
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: Curve
  description: |+
    Specifies the elliptic curve name of the key of the certificate.
    The acceptable values for this parameter are:
    - P-256
    - P-384
    - P-521
    - P-256K
    - SECP256K1

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: P-256, P-384, P-521, P-256K, SECP256K1
- type: <xref href="Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer" data-throw-if-not-resolved="False" />
  name: DefaultProfile
  description: |+
    The credentials, account, tenant, and subscription used for communication with azure

  defaultValue: None
  position: Named
  aliases: AzContext, AzureRmContext, AzureCredential
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: Disabled
  description: |+
    Indicates that the certificate policy is disabled.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Collections.Generic.List`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.String" data-throw-if-not-resolved="False" /><span>]</span>
  name: DnsName
  isRequired: true
  description: |+
    Specifies the DNS names in the certificate.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: DnsNames
  parameterValueGroup: ""
- type: <xref href="System.Collections.Generic.List`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.String" data-throw-if-not-resolved="False" /><span>]</span>
  name: Ekus
  description: |+
    Specifies the enhanced key usages (EKUs) in the certificate.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Int32" data-throw-if-not-resolved="False" /><span>]</span>
  name: EmailAtNumberOfDaysBeforeExpiry
  description: |+
    Specifies how many days before expiry the automatic notification process begins.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Int32" data-throw-if-not-resolved="False" /><span>]</span>
  name: EmailAtPercentageLifetime
  description: |+
    Specifies the percentage of the lifetime after which the automatic process for the notification begins.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: IssuerName
  isRequired: true
  description: |+
    Specifies the name of the issuer for the certificate.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: KeyNotExportable
  description: |+
    Indicates that the key is not exportable.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Int32" data-throw-if-not-resolved="False" />
  name: KeySize
  description: |+
    Specifies the key size of the certificate.
    The acceptable values for this parameter are:
    - 2048
    - 3072
    - 4096
    - 256
    - 384
    - 521

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: 2048, 3072, 4096, 256, 384, 521
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: KeyType
  description: |+
    Specifies the key type of the key that backs the certificate.
    The acceptable values for this parameter are:
    - RSA
    - RSA-HSM
    - EC
    - EC-HSM

  defaultValue: RSA
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: RSA, RSA-HSM, EC, EC-HSM
- type: <xref href="System.Collections.Generic.List`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Security.Cryptography.X509Certificates.X509KeyUsageFlags" data-throw-if-not-resolved="False" /><span>]</span>
  name: KeyUsage
  description: |+
    Specifies the key usages in the certificate.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: None, EncipherOnly, CrlSign, KeyCertSign, KeyAgreement, DataEncipherment, KeyEncipherment, NonRepudiation, DigitalSignature, DecipherOnly
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Int32" data-throw-if-not-resolved="False" /><span>]</span>
  name: RenewAtNumberOfDaysBeforeExpiry
  description: |+
    Specifies the number of days before expiry after which the automatic process for certificate renewal begins.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Int32" data-throw-if-not-resolved="False" /><span>]</span>
  name: RenewAtPercentageLifetime
  description: |+
    Specifies the percentage of the lifetime after which the automatic process for certificate renewal begins.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: ReuseKeyOnRenewal
  description: |+
    Indicates that the certificate reuse the key during renewal.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: SecretContentType
  description: |+
    Specifies the content type of the new key vault secret.
    The acceptable values for this parameter are:
    - application/x-pkcs12
    - application/x-pem-file

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: application/x-pkcs12, application/x-pem-file
- type: <xref href="System.String" data-throw-if-not-resolved="False" />
  name: SubjectName
  isRequired: true
  description: |+
    Specifies the subject name of the certificate.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Nullable`1" data-throw-if-not-resolved="False" /><span>[</span><xref href="System.Int32" data-throw-if-not-resolved="False" /><span>]</span>
  name: ValidityInMonths
  description: |+
    Specifies the number of months the certificate is valid.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="System.Management.Automation.SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: None
  position: Named
  aliases: wi
  parameterValueGroup: ""
uid: Az.KeyVault.New-AzKeyVaultCertificatePolicy
name: New-AzKeyVaultCertificatePolicy
description: |-
  The **New-AzKeyVaultCertificatePolicy** cmdlet creates an in-memory certificate policy object for Azure Key Vault.
metadata:
  external help file: Microsoft.Azure.PowerShell.Cmdlets.KeyVault.dll-Help.xml
  Module Name: Az.KeyVault
  ms.assetid: 25E0F0E9-BF8C-49DF-87BA-31E2103A29A9
  online version: https://docs.microsoft.com/en-us/powershell/module/az.keyvault/new-azkeyvaultcertificatepolicy
  schema: 2.0.0
  content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/KeyVault/KeyVault/help/New-AzKeyVaultCertificatePolicy.md
  original_content_git_url: https://github.com/Azure/azure-powershell/blob/master/src/KeyVault/KeyVault/help/New-AzKeyVaultCertificatePolicy.md
